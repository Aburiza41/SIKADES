import{r as l,j as r}from"./app-cnLqKnWv.js";import{X as O}from"./index.es-Q68aKp3t.js";import{I as h}from"./index-sj701c6h.js";import{u as d,w as D}from"./xlsx-5rFX-EW9.js";import H from"./Actions-BRsG-T7r.js";import{m as u}from"./proxy-0toHJmZX.js";import"./iconBase-CMF4PMHw.js";import"./index-CoBPEikz.js";function G({organizations:t,fetchData:f,loading:w,onEdit:g,onDelete:b,onView:j}){const[c,v]=l.useState(""),[a,p]=l.useState((t==null?void 0:t.current_page)||1),[n,S]=l.useState((t==null?void 0:t.per_page)||10),[m,P]=l.useState("id"),[x,k]=l.useState("asc");l.useEffect(()=>{f({page:a,perPage:n,search:c,sortField:m,sortDirection:x})},[a,n,c,m,x]);const N=e=>{p(e)},y=(e,s)=>{S(e),p(s)},E=(e,s)=>{const o=["asc","desc"].includes(s)?s:"asc",_=["id","title","description","created_at","updated_at"].includes(e.selector)?e.selector:"id";P(_),k(o)},C=()=>{const e=JSON.stringify(t.data,null,2),s=new Blob([e],{type:"application/json"}),i=URL.createObjectURL(s),o=document.createElement("a");o.href=i,o.download="organizations.json",o.click(),URL.revokeObjectURL(i)},R=()=>{const e=d.json_to_sheet(t.data),s=d.book_new();d.book_append_sheet(s,e,"organizations"),D(s,"organizations.xlsx")},F=[{name:"No",cell:(e,s)=>(a-1)*n+s+1,width:"70px"},{name:"Judul",selector:e=>e.title,sortable:!0,width:"200px"},{name:"Deskripsi",selector:e=>e.description,sortable:!0},{name:"Aksi",cell:e=>r.jsx(H,{row:e,onEdit:g,onDelete:b,onView:j}),ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px"}];return r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg border border-gray-300",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[r.jsx(u.input,{type:"text",placeholder:"Cari judul...",value:c,onChange:e=>v(e.target.value),className:"border p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-full md:w-auto",whileHover:{scale:1.02},whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300}}),r.jsxs("div",{className:"flex gap-2 w-full md:w-auto justify-end",children:[r.jsxs(u.button,{onClick:C,className:"bg-blue-500 text-white px-4 py-2 rounded-lg flex items-center",whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300},children:[r.jsx(h,{className:"mr-2"})," Export JSON"]}),r.jsxs(u.button,{onClick:R,className:"bg-green-500 text-white px-4 py-2 rounded-lg flex items-center",whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300},children:[r.jsx(h,{className:"mr-2"})," Export Excel"]})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsx(O,{columns:F,data:(t==null?void 0:t.data)||[],pagination:!0,paginationServer:!0,paginationTotalRows:(t==null?void 0:t.total)||0,paginationDefaultPage:a,onChangePage:N,onChangeRowsPerPage:y,onSort:E,highlightOnHover:!0,pointerOnHover:!0,striped:!0,responsive:!0,progressPending:w})})]})}export{G as default};
