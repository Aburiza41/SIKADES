import{r as n,j as a}from"./app-CVPon-in.js";import{X as A}from"./index.es-Cx28G3hx.js";import{i as w}from"./index-QcoFFRoy.js";import{u,w as H}from"./xlsx-5rFX-EW9.js";import U from"./Actions-Cbjsa_cM.js";import{m as p}from"./proxy-D2F4h_SH.js";import"./iconBase-DWCpscjx.js";import"./index-Bid0kMqz.js";function Q({officials:s,fetchData:x,loading:b,onEdit:k,onDelete:S,onView:j,onPrint:v}){const[i,N]=n.useState(""),[c,P]=n.useState(""),[l,g]=n.useState((s==null?void 0:s.current_page)||1),[d,y]=n.useState((s==null?void 0:s.per_page)||10),[m,f]=n.useState("id"),[h,C]=n.useState("asc"),D=["SD/MI","SMP/MTS","SMA/SMK/MA","D1","D2","D3","D4","S1","S2","S3"];n.useEffect(()=>{x({page:l,perPage:d,search:i,filters:c,sortField:m,sortDirection:h})},[l,d,i,c,m,h]);const E=e=>{g(e)},_=(e,t)=>{y(e),g(t)},F=(e,t)=>{const o=["asc","desc"].includes(t)?t:"asc",M=["id","nama_lengkap","nik","niad","pendidikan","created_at","updated_at"].includes(e.selector)?e.selector:"id";f(M),C(o)},R=()=>{const e=JSON.stringify(s.data,null,2),t=new Blob([e],{type:"application/json"}),r=URL.createObjectURL(t),o=document.createElement("a");o.href=r,o.download="officials.json",o.click(),URL.revokeObjectURL(r)},O=()=>{const e=u.json_to_sheet(s.data),t=u.book_new();u.book_append_sheet(t,e,"officials"),H(t,"officials.xlsx")},T=[{name:"No",cell:(e,t)=>(l-1)*d+t+1,width:"5%"},{name:"Nama Lengkap",selector:e=>e.nama_lengkap,sortable:!0,width:"auto"},{name:"NIK",selector:e=>e.nik,sortable:!0,width:"20%"},{name:"NIAD",selector:e=>e.niad,sortable:!0,width:"auto"},{name:"Pendidikan",selector:e=>e.highest_education||"-",sortable:!0,width:"auto"},{name:"Status",selector:e=>e.status,sortable:!0,cell:e=>a.jsx(L,{role:e.status}),width:"10%"},{name:"Aksi",cell:e=>a.jsx(U,{row:e,onEdit:k,onDelete:S,onView:j,onPrint:v}),ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"10%"}],L=({role:e})=>{let t="",r="";switch(e){case"tolak":t="bg-red-500 w-full text-center",r="Tolak";break;case"daftar":t="bg-blue-500 w-full text-center",r="Daftar";break;case"validasi":t="bg-green-500 w-full text-center",r="Terima";break;case"proses":t="bg-yellow-500 w-full text-center",r="Proses";break;default:t="bg-gray-500 w-full text-center",r="Tidak Diketahui"}return a.jsx("span",{className:`px-2 py-0 text-sm text-white rounded ${t}`,children:r})};return a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg border border-gray-300",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[a.jsx(p.input,{type:"text",placeholder:"Cari nama...",value:i,onChange:e=>N(e.target.value),className:"border p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-full md:w-auto",whileHover:{scale:1.02},whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300}}),a.jsxs("select",{name:"education",value:c,onChange:e=>P(e.target.value),className:"border p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-full md:w-auto",children:[a.jsx("option",{value:"",children:"Semua Pendidikan"}),D.map((e,t)=>a.jsx("option",{value:e,children:e},t))]}),a.jsxs("div",{className:"flex gap-2 w-full md:w-auto justify-end",children:[a.jsxs(p.button,{onClick:R,className:"bg-blue-500 text-white px-4 py-2 rounded-lg flex items-center",whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300},children:[a.jsx(w,{className:"mr-2"})," Export JSON"]}),a.jsxs(p.button,{onClick:O,className:"bg-green-500 text-white px-4 py-2 rounded-lg flex items-center",whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300},children:[a.jsx(w,{className:"mr-2"})," Export Excel"]})]})]}),a.jsx("div",{className:"overflow-x-auto w-full",children:a.jsx(A,{columns:T,data:(s==null?void 0:s.data)||[],pagination:!0,paginationServer:!0,paginationTotalRows:(s==null?void 0:s.total)||0,paginationDefaultPage:l,onChangePage:E,onChangeRowsPerPage:_,onSort:F,highlightOnHover:!0,pointerOnHover:!0,striped:!0,responsive:!0,progressPending:b})})]})}export{Q as default};
