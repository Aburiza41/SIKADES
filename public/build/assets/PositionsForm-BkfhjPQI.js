import{r as y,j as e}from"./app-cnLqKnWv.js";import{S as w}from"./react-select.esm-kjDh-dq3.js";import{b as c,E as S,G as E,H as T,D as k}from"./index-sj701c6h.js";import{H as F}from"./index-CyDsHmf4.js";import{m as t}from"./proxy-0toHJmZX.js";import"./defineProperty-DRmM3rRU.js";import"./typeof-QjJsDpFa.js";import"./index-c6l4leOc.js";import"./floating-ui.dom-CHZBHl4C.js";import"./iconBase-CMF4PMHw.js";function D({jabatan:l,position:d,positions:i,setOfficialPosition:s,officialPosition:r}){var v,f;d=((v=d==null?void 0:d.position)==null?void 0:v.slug)||null;const[u,x]=y.useState(d||null),g={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,when:"beforeChildren",staggerChildren:.1}}},m={hidden:{opacity:0,x:-10},visible:{opacity:1,x:0,transition:{duration:.3}},focus:{scale:1.02,boxShadow:"0 0 0 2px rgba(59, 130, 246, 0.5)"}},o={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3}}},N=i.map(a=>({value:a.id,label:a.name,slug:a.slug}));y.useEffect(()=>{let a=null;if(d&&i.length>0&&(a=i.find(n=>n.slug===d)),!a&&(l!=null&&l.name)&&i.length>0&&(a=i.find(n=>n.name.toLowerCase()===l.name.toLowerCase())),a){const n={value:a.id,label:a.name,slug:a.slug};x(n),s({...r,namaJabatan:a.name,jabatanId:a.id})}},[d,l,i]);const{penetap:p,nomorSk:b,tanggalSk:j,period:h,tmtJabatan:A}=r;return e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white w-full p-6 shadow-lg rounded-xl mt-8 border border-gray-100",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4 pb-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(t.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:.5},children:e.jsx(c,{className:"text-3xl text-blue-500"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-800",children:["C. JABATAN SAAT INI ",(f=l==null?void 0:l.name)==null?void 0:f.toUpperCase()]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1 flex items-center",children:[e.jsx(F,{className:"mr-1 text-blue-500"}),"Formulir ",l==null?void 0:l.name," ini digunakan untuk mengisi jabatan pejabat desa."]})]})]})}),e.jsxs(t.div,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",variants:g,initial:"hidden",animate:"visible",children:[e.jsxs(t.div,{className:"col-span-2 grid grid-cols-1 gap-4 mb-6",variants:g,initial:"hidden",animate:"visible",children:[e.jsxs(t.div,{variants:o,children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center",children:[e.jsx(c,{className:"mr-2 text-blue-500"})," 1. File"]}),e.jsx("input",{type:"file",onChange:a=>{if(a.target.files&&a.target.files.length>0){const n=a.target.files[0];if(!["image/jpeg","image/png","image/gif","application/pdf"].includes(n.type)){alert("Hanya file gambar (JPEG, PNG, GIF) atau PDF yang diizinkan"),a.target.value="";return}const C=5*1024*1024;if(n.size>C){alert("Ukuran file maksimal 5MB"),a.target.value="";return}s({...r,file:n})}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",accept:"image/*,.pdf",required:!0})]}),r.file&&e.jsxs("div",{className:"mt-2 flex flex-col items-start",children:[r.file.type&&r.file.type.startsWith("image/")?e.jsx("img",{src:URL.createObjectURL(r.file),alt:"Preview",className:"h-20 object-cover rounded mb-2"}):e.jsxs("div",{className:"flex items-center p-3 bg-gray-100 rounded-lg",children:[e.jsx(S,{className:"text-red-500 mr-2 text-xl"}),e.jsx("span",{children:r.file.name})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[r.file.name," â€¢"," ",(r.file.size/1024/1024).toFixed(2)," ","MB"]}),e.jsxs("button",{type:"button",onClick:()=>{s({...r,file:null})},className:"mt-2 text-sm text-red-600 hover:text-red-800",children:[e.jsx(E,{className:"inline mr-1"})," HAPUS FILE"]})]})]}),e.jsxs(t.div,{variants:o,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[e.jsx(c,{className:"mr-2 text-blue-500"})," PEJABAT YANG MENETAPKAN"]}),e.jsx(t.input,{type:"text",value:p?p.toUpperCase():"",onChange:a=>s({...r,penetap:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"PEJABAT YANG MENETAPKAN",variants:m})]}),e.jsxs(t.div,{variants:o,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[e.jsx(T,{className:"mr-2 text-blue-500"})," ","SK PELANTIKAN"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t.input,{type:"text",value:b?b.toUpperCase():"",onChange:a=>s({...r,nomorSk:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"NOMOR SK",variants:m}),e.jsx(t.input,{type:"date",value:j||"",onChange:a=>s({...r,tanggalSk:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",variants:m})]})]}),e.jsxs(t.div,{variants:o,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[e.jsx(c,{className:"mr-2 text-blue-500"})," NAMA JABATAN"]}),e.jsx(t.div,{variants:m,children:e.jsx(w,{options:N.map(a=>({...a,label:a.label.toUpperCase()})),value:u?{...u,label:u.label?u.label.toUpperCase():""}:null,onChange:a=>{x(a),s({...r,namaJabatan:a.label,jabatanId:a.value})},placeholder:"PILIH JABATAN",isClearable:!0,isSearchable:!0,className:"mt-0",styles:{control:a=>({...a,minHeight:"42px",borderColor:"#d1d5db","&:hover":{borderColor:"#d1d5db"},boxShadow:"none","&:focus-within":{boxShadow:"0 0 0 2px rgba(59, 130, 246, 0.5)",borderColor:"transparent"}})}})})]}),e.jsxs(t.div,{variants:o,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PERIOD KE-"}),e.jsx(t.input,{type:"text",value:h?h.toUpperCase():"",onChange:a=>s({...r,period:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"PERIOD KE-",variants:m})]}),e.jsxs(t.div,{variants:o,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[e.jsx(k,{className:"mr-2 text-blue-500"})," TMT JABATAN"]}),e.jsx(t.input,{type:"date",value:A||"",onChange:a=>s({...r,tmtJabatan:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",variants:m})]})]})]})})}export{D as default};
