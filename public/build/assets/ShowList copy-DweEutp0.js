import{r as p,j as a}from"./app-cnLqKnWv.js";import{F as B,b as F,e as M,f as y,g as U,c as J}from"./index-sj701c6h.js";import W from"./Modal-CO3xzYfF.js";import{P as d}from"./index-BiDa0l7-.js";import{C as k,A as G,p as V,a as X,B as Y,b as Z,L as q}from"./chart-DjzORYcU.js";import{X as c}from"./index.es-Q68aKp3t.js";import{M as o}from"./react-tooltip.min-BGsG2p-U.js";import{m as s}from"./proxy-0toHJmZX.js";import"./iconBase-CMF4PMHw.js";import"./index-CSb7vC3W.js";import"./floating-ui.dom-CHZBHl4C.js";k.register(G,V,X,Y,Z,q);function ca({villages:l}){var u,b,m,j;const[w,h]=p.useState(!1),[t,x]=p.useState(null),T=e=>{x(e),h(!0)},S=()=>{h(!1),x(null)},A=e=>{switch(e){case"Tinggi":return"text-green-600";case"Sedang":return"text-yellow-600";case"Rendah":return"text-red-600";default:return"text-gray-600"}},P=t?{labels:["Daftar","Proses","Validasi","Tolak"],datasets:[{label:"Jumlah",data:t.officials_statuses,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(75, 192, 192, 0.2)","rgba(255, 206, 86, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(75, 192, 192, 1)","rgba(255, 206, 86, 1)"],borderWidth:1}]}:null,I=t?{labels:["Data Lengkap","Data Tidak Lengkap"],datasets:[{label:"Kelengkapan Data",data:[t.data_completeness,100-t.data_completeness],backgroundColor:["rgba(75, 192, 192, 0.2)","rgba(255, 99, 132, 0.2)"],borderColor:["rgba(75, 192, 192, 1)","rgba(255, 99, 132, 1)"],borderWidth:1}]}:null,C=t?{labels:["Mengikuti Pelatihan Pemerintah","Tidak Mengikuti"],datasets:[{label:"Keikutsertaan Pelatihan",data:[t.training_participation_rate,100-t.training_participation_rate],backgroundColor:["rgba(54, 162, 235, 0.2)","rgba(255, 99, 132, 0.2)"],borderColor:["rgba(54, 162, 235, 1)","rgba(255, 99, 132, 1)"],borderWidth:1}]}:null,D=t?{labels:["Mengikuti Organisasi","Tidak Mengikuti"],datasets:[{label:"Keikutsertaan Organisasi",data:[t.organization_participation_rate,100-t.organization_participation_rate],backgroundColor:["rgba(255, 206, 86, 0.2)","rgba(255, 99, 132, 0.2)"],borderColor:["rgba(255, 206, 86, 1)","rgba(255, 99, 132, 1)"],borderWidth:1}]}:null,K={labels:l.map(e=>e.name_bps),datasets:[{label:"Keikutsertaan Pelatihan Pemerintah (%)",data:l.map(e=>e.training_participation_rate),backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1},{label:"Keikutsertaan Organisasi (%)",data:l.map(e=>e.organization_participation_rate),backgroundColor:"rgba(255, 206, 86, 0.2)",borderColor:"rgba(255, 206, 86, 1)",borderWidth:1}]},L=[{name:"Nama",selector:e=>e.nama_lengkap,sortable:!0},{name:"Status",selector:e=>e.status,sortable:!0},{name:"Jabatan",selector:e=>e.position,sortable:!0},{name:"Pelatihan Pemerintah",selector:e=>e.government_training_count.toLocaleString("id-ID"),sortable:!0},{name:"Organisasi",selector:e=>e.organization_count.toLocaleString("id-ID"),sortable:!0},{name:"Data Lengkap",selector:e=>e.data_complete?"Ya":"Tidak",sortable:!0,cell:e=>a.jsx("span",{className:e.data_complete?"text-green-600":"text-red-600",children:e.data_complete?"Ya":"Tidak"})},{name:"Pendidikan Terakhir",selector:e=>e.pendidikan_terakhir,sortable:!0},{name:"Status Perkawinan",selector:e=>e.status_perkawinan,sortable:!0}],E=e=>a.jsxs("div",{className:"p-4 bg-gray-50",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-semibold",children:"Pelatihan Pemerintah:"}),e.government_trainings.length>0?a.jsx("ul",{className:"list-disc pl-5",children:e.government_trainings.map((i,r)=>a.jsxs("li",{children:[i.title," (Penyelenggara: ",i.penyelenggara||"Tidak diketahui",", Nomor Sertifikat: ",i.nomor_sertifikat||"Tidak ada",", Tanggal: ",i.tanggal_sertifikat||"Tidak diketahui",")"]},r))}):a.jsx("p",{children:"Tidak ada pelatihan pemerintah."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:"Organisasi:"}),e.organizations.length>0?a.jsx("ul",{className:"list-disc pl-5",children:e.organizations.map((i,r)=>a.jsxs("li",{children:[i.title," (Posisi: ",i.posisi||"Anggota",", Periode: ",i.mulai||"Tidak diketahui"," - ",i.selesai||"Sekarang",")"]},r))}):a.jsx("p",{children:"Tidak ada organisasi."})]})]}),$=[{name:"Nama",selector:e=>e.nama_lengkap,sortable:!0},{name:"Status",selector:e=>e.status,sortable:!0},{name:"Jabatan",selector:e=>e.position,sortable:!0},{name:"Pelatihan Pemerintah",selector:e=>e.government_training_count.toLocaleString("id-ID"),sortable:!0},{name:"Pendidikan Terakhir",selector:e=>e.pendidikan_terakhir,sortable:!0}],O=[{name:"Nama",selector:e=>e.nama_lengkap,sortable:!0},{name:"Status",selector:e=>e.status,sortable:!0},{name:"Jabatan",selector:e=>e.position,sortable:!0},{name:"Pendidikan Terakhir",selector:e=>e.pendidikan_terakhir,sortable:!0}],H=[{name:"Kategori",selector:e=>e.category,sortable:!0},{name:"Nilai",selector:e=>e.value,sortable:!0}],z=t?[{id:1,category:"Daftar",value:t.officials_statuses[0].toLocaleString("id-ID")},{id:2,category:"Proses",value:t.officials_statuses[1].toLocaleString("id-ID")},{id:3,category:"Validasi",value:t.officials_statuses[2].toLocaleString("id-ID")},{id:4,category:"Tolak",value:t.officials_statuses[3].toLocaleString("id-ID")},{id:5,category:"Kelengkapan Data (%)",value:t.data_completeness.toLocaleString("id-ID")+"%"},{id:6,category:"Keikutsertaan Pelatihan Pemerintah (%)",value:t.training_participation_rate.toLocaleString("id-ID")+"%"},{id:7,category:"Keikutsertaan Organisasi (%)",value:t.organization_participation_rate.toLocaleString("id-ID")+"%"},{id:8,category:"Tingkat Keaktifan (%)",value:`${t.activity_rate.toLocaleString("id-ID")}% (${t.activity_level})`}]:[];return p.useEffect(()=>{var i;const e=(i=document.getElementById("participationChart"))==null?void 0:i.getContext("2d");if(e){const r=new k(e,{type:"bar",data:K,options:{scales:{y:{beginAtZero:!0,max:100,title:{display:!0,text:"Persentase (%)"}},x:{title:{display:!0,text:"Desa"}}},plugins:{legend:{display:!0},title:{display:!0,text:"Keikutsertaan Pelatihan dan Organisasi per Desa"},tooltip:{callbacks:{footer:n=>l[n[0].dataIndex].calculation_basis[n[0].dataset.label.includes("Pelatihan")?"training_participation":"organization_participation"].basis}}}}});return()=>r.destroy()}},[l]),a.jsxs("div",{children:[a.jsx("div",{className:"mb-8",children:a.jsxs(s.div,{className:"bg-white rounded-2xl shadow-lg p-5 border border-gray-200",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Keikutsertaan Pelatihan dan Organisasi per Desa"}),a.jsx("canvas",{id:"participationChart"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:[l.map(e=>{var i,r,n,g,v,f,_,N;return a.jsxs(s.div,{className:"bg-white rounded-2xl shadow-lg p-5 border border-gray-200 hover:shadow-xl transition-all duration-300 group",whileHover:{scale:1.05},children:[e.image?a.jsx("img",{src:e.image,alt:e.name_bps,className:"w-full h-60 object-cover rounded-lg mb-4"}):a.jsx("div",{className:"w-full h-60 bg-green-50 flex items-center justify-center rounded-lg mb-4 group-hover:bg-green-900 transition-colors duration-300",children:a.jsx(B,{className:"text-green-900 text-6xl group-hover:text-white transition-colors duration-300"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-0",children:e.name_bps}),a.jsx("p",{className:"text-gray-600 text-sm mb-3",children:e.name_dagri}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(F,{className:"text-green-900 text-lg"}),a.jsxs("div",{className:"flex justify-between w-full",children:[a.jsx("p",{className:"text-gray-600",children:"Pejabat/Aparatur"}),a.jsx("p",{className:"text-gray-700 font-bold",children:e.officials_count.toLocaleString("id-ID")})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(M,{className:"text-green-900 text-lg"}),a.jsxs("div",{className:"flex justify-between w-full",children:[a.jsx("p",{className:"text-gray-600",children:"Kelengkapan Data"}),a.jsxs("p",{className:"text-gray-700 font-bold","data-tooltip-id":`completeness-tooltip-${e.id}`,"data-tooltip-content":((r=(i=e.calculation_basis)==null?void 0:i.data_completeness)==null?void 0:r.basis)||"",children:[e.data_completeness.toLocaleString("id-ID"),"%"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(y,{className:"text-green-900 text-lg"}),a.jsxs("div",{className:"flex justify-between w-full",children:[a.jsx("p",{className:"text-gray-600",children:"Keikutsertaan Pelatihan"}),a.jsxs("p",{className:"text-gray-700 font-bold","data-tooltip-id":`training-tooltip-${e.id}`,"data-tooltip-content":((g=(n=e.calculation_basis)==null?void 0:n.training_participation)==null?void 0:g.basis)||"",children:[e.training_participation_rate.toLocaleString("id-ID"),"%"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(y,{className:"text-green-900 text-lg"}),a.jsxs("div",{className:"flex justify-between w-full",children:[a.jsx("p",{className:"text-gray-600",children:"Keikutsertaan Organisasi"}),a.jsxs("p",{className:"text-gray-700 font-bold","data-tooltip-id":`organization-tooltip-${e.id}`,"data-tooltip-content":((f=(v=e.calculation_basis)==null?void 0:v.organization_participation)==null?void 0:f.basis)||"",children:[e.organization_participation_rate.toLocaleString("id-ID"),"%"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(U,{className:"text-green-900 text-lg"}),a.jsxs("div",{className:"flex justify-between w-full",children:[a.jsx("p",{className:"text-gray-600",children:"Tingkat Keaktifan"}),a.jsxs("p",{className:`font-bold ${A(e.activity_level)}`,"data-tooltip-id":`activity-tooltip-${e.id}`,"data-tooltip-content":((N=(_=e.calculation_basis)==null?void 0:_.activity_rate)==null?void 0:N.basis)||"",children:[e.activity_rate.toLocaleString("id-ID"),"% (",e.activity_level,")"]})]})]})]}),a.jsx(o,{id:`completeness-tooltip-${e.id}`,place:"top",effect:"solid"}),a.jsx(o,{id:`training-tooltip-${e.id}`,place:"top",effect:"solid"}),a.jsx(o,{id:`organization-tooltip-${e.id}`,place:"top",effect:"solid"}),a.jsx(o,{id:`activity-tooltip-${e.id}`,place:"top",effect:"solid"}),a.jsx("div",{className:"flex justify-end mt-4 space-x-3",children:a.jsx(s.button,{onClick:R=>{R.stopPropagation(),T(e)},className:"p-2 bg-green-900 text-white rounded-full hover:bg-green-700 transition-colors duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(J,{className:"text-lg"})})})]},e.id)}),a.jsx(W,{isOpen:w,onClose:S,children:t&&a.jsxs("div",{className:"max-h-[80vh] overflow-y-auto space-y-8 p-4",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:["Detail Statistik: ",t.name_bps]}),a.jsxs("div",{className:"flex flex-col gap-8 w-full",children:[a.jsxs(s.div,{className:"bg-white rounded-2xl shadow-lg p-5 border border-gray-200 hover:shadow-xl transition-all duration-300 group space-y-4",whileHover:{scale:1.05},children:[a.jsx("div",{className:"border-b pb-1",children:a.jsx("h1",{children:"STATISTIK STATUS PEJABAT"})}),a.jsx("div",{children:a.jsx(d,{data:P})})]}),a.jsxs(s.div,{className:"bg-white rounded-2xl shadow-lg p-5 border border-gray-200 hover:shadow-xl transition-all duration-300 group space-y-4",whileHover:{scale:1.05},children:[a.jsx("div",{className:"border-b pb-1",children:a.jsx("h1",{children:"STATISTIK KELENGKAPAN DATA"})}),a.jsx("div",{children:a.jsx(d,{data:I})})]}),a.jsxs(s.div,{className:"bg-white rounded-2xl shadow-lg p-5 border border-gray-200 hover:shadow-xl transition-all duration-300 group space-y-4",whileHover:{scale:1.05},children:[a.jsx("div",{className:"border-b pb-1",children:a.jsx("h1",{children:"STATISTIK KEIKUTSERTAAN PELATIHAN PEMERINTAH"})}),a.jsx("div",{children:a.jsx(d,{data:C})})]}),a.jsxs(s.div,{className:"bg-white rounded-2xl shadow-lg p-5 border border-gray-200 hover:shadow-xl transition-all duration-300 group space-y-4",whileHover:{scale:1.05},children:[a.jsx("div",{className:"border-b pb-1",children:a.jsx("h1",{children:"STATISTIK KEIKUTSERTAAN ORGANISASI"})}),a.jsx("div",{children:a.jsx(d,{data:D})})]}),a.jsxs(s.div,{className:"bg-white rounded-2xl shadow-lg p-5 border border-gray-200 hover:shadow-xl transition-all duration-300 group space-y-4",whileHover:{scale:1.05},children:[a.jsx("div",{className:"border-b pb-1",children:a.jsx("h1",{children:`TABEL RINGKASAN DATA ${t.name_dagri}`.toUpperCase()})}),a.jsx(c,{columns:H,data:z,pagination:!0,highlightOnHover:!0,striped:!0,responsive:!0})]}),a.jsxs(s.div,{className:"bg-white rounded-2xl shadow-lg p-5 border border-gray-200 hover:shadow-xl transition-all duration-300 group space-y-4",whileHover:{scale:1.05},children:[a.jsx("div",{className:"border-b pb-1",children:a.jsx("h1",{children:`DAFTAR PEJABAT ${t.name_dagri}`.toUpperCase()})}),a.jsx(c,{columns:L,data:t.officials_list,pagination:!0,paginationPerPage:10,paginationRowsPerPageOptions:[10,25,50],highlightOnHover:!0,striped:!0,responsive:!0,expandableRows:!0,expandableRowsComponent:E})]}),a.jsxs(s.div,{className:"bg-white rounded-2xl shadow-lg p-5 border border-gray-200 hover:shadow-xl transition-all duration-300 group space-y-4",whileHover:{scale:1.05},children:[a.jsxs("div",{className:"border-b pb-1",children:[a.jsx("h1",{children:`PEJABAT PALING AKTIF ${t.name_dagri}`.toUpperCase()}),a.jsx("p",{className:"text-sm text-gray-600","data-tooltip-id":`most-active-tooltip-${t.id}`,"data-tooltip-content":((b=(u=t.calculation_basis)==null?void 0:u.most_active_officials)==null?void 0:b.basis)||"",children:"Berdasarkan jumlah pelatihan pemerintah yang diikuti"})]}),a.jsx(c,{columns:$,data:t.most_active_officials,pagination:!0,highlightOnHover:!0,striped:!0,responsive:!0}),a.jsx(o,{id:`most-active-tooltip-${t.id}`,place:"top",effect:"solid"})]}),a.jsxs(s.div,{className:"bg-white rounded-2xl shadow-lg p-5 border border-gray-200 hover:shadow-xl transition-all duration-300 group space-y-4",whileHover:{scale:1.05},children:[a.jsxs("div",{className:"border-b pb-1",children:[a.jsx("h1",{children:`PEJABAT TIDAK AKTIF ${t.name_dagri}`.toUpperCase()}),a.jsx("p",{className:"text-sm text-gray-600","data-tooltip-id":`inactive-tooltip-${t.id}`,"data-tooltip-content":((j=(m=t.calculation_basis)==null?void 0:m.inactive_officials)==null?void 0:j.basis)||"",children:"Tidak mengikuti pelatihan pemerintah"})]}),a.jsx(c,{columns:O,data:t.inactive_officials,pagination:!0,highlightOnHover:!0,striped:!0,responsive:!0}),a.jsx(o,{id:`inactive-tooltip-${t.id}`,place:"top",effect:"solid"})]})]})]})})]})]})}export{ca as default};
