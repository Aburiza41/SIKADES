import{r as n,j as s}from"./app-EIz8nQ5Q.js";import{X as J}from"./index.es-BsUn4GSa.js";import{I as w}from"./index-CuuF2Vom.js";import{u as i,w as U}from"./xlsx-5rFX-EW9.js";import A from"./Actions-DRu4M9P2.js";import{m as p}from"./proxy-Br4hXrCY.js";import"./iconBase-CIswt8ol.js";import"./index-BTPrMAX7.js";function W({official_organizations:t,organizations:g,fetchData:b,loading:j,onEdit:v,onDelete:S,onView:P,onPrint:N}){const[a,k]=n.useState(""),[c,y]=n.useState(""),[l,m]=n.useState((t==null?void 0:t.current_page)||1),[d,C]=n.useState((t==null?void 0:t.per_page)||10),[x,E]=n.useState("id"),[h,F]=n.useState("asc");n.useEffect(()=>{b({page:l,perPage:d,search:a,filters:c,sortField:x,sortDirection:h})},[l,d,a,c,x,h]);const O=e=>{m(e)},R=(e,r)=>{C(e),m(r)},f=(e,r)=>{const o=["asc","desc"].includes(r)?r:"asc",T=["id","nama","mulai","selesai","created_at","updated_at"].includes(e.selector)?e.selector:"id";E(T),F(o)},D=()=>{const e=JSON.stringify(t.data,null,2),r=new Blob([e],{type:"application/json"}),u=URL.createObjectURL(r),o=document.createElement("a");o.href=u,o.download="official_organizations.json",o.click(),URL.revokeObjectURL(u)},H=()=>{const e=i.json_to_sheet(t.data),r=i.book_new();i.book_append_sheet(r,e,"official_organizations"),U(r,"official_organizations.xlsx")},L=[{name:"No",cell:(e,r)=>(l-1)*d+r+1,width:"70px"},{name:"Nama",selector:e=>e.official.nama_lengkap,sortable:!0,width:"200px"},{name:"Jenis",selector:e=>e.organization.title,sortable:!0},{name:"Organisasi",selector:e=>e.nama,sortable:!0},{name:"Posisi",selector:e=>e.posisi,sortable:!0},{name:"Aksi",cell:e=>s.jsx(A,{row:e,onEdit:v,onDelete:S,onView:P,onPrint:N}),ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px"}];return s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg border border-gray-300",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[s.jsx(p.input,{type:"text",placeholder:"Cari nama...",value:a,onChange:e=>k(e.target.value),className:"border p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-full md:w-auto",whileHover:{scale:1.02},whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300}}),s.jsxs("select",{name:"organization",value:c,onChange:e=>y(e.target.value),className:"border p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-full md:w-auto",children:[s.jsx("option",{value:"",children:"Semua Organization"}),g.map(e=>s.jsx("option",{value:e.id,children:e.title},e.id))]}),s.jsxs("div",{className:"flex gap-2 w-full md:w-auto justify-end",children:[s.jsxs(p.button,{onClick:D,className:"bg-blue-500 text-white px-4 py-2 rounded-lg flex items-center",whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300},children:[s.jsx(w,{className:"mr-2"})," Export JSON"]}),s.jsxs(p.button,{onClick:H,className:"bg-green-500 text-white px-4 py-2 rounded-lg flex items-center",whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300},children:[s.jsx(w,{className:"mr-2"})," Export Excel"]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsx(J,{columns:L,data:(t==null?void 0:t.data)||[],pagination:!0,paginationServer:!0,paginationTotalRows:(t==null?void 0:t.total)||0,paginationDefaultPage:l,onChangePage:O,onChangeRowsPerPage:R,onSort:f,highlightOnHover:!0,pointerOnHover:!0,striped:!0,responsive:!0,progressPending:j})})]})}export{W as default};
