import{j as e}from"./app-cnLqKnWv.js";import{j as d,l as w,p as u,k as m}from"./index-CoBPEikz.js";import{S as o}from"./sweetalert2.esm.all-LHqzTR4y.js";import{m as i}from"./proxy-0toHJmZX.js";import"./iconBase-CMF4PMHw.js";function g({row:r,onEdit:n,onDelete:x,onView:a,onPrint:l}){const s={hover:{scale:1.1,transition:{duration:.2}},tap:{scale:.9}},c=()=>{o.fire({title:"Reset Password?",text:"This will generate a new random password for this user. The new password will be shown after reset.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, reset it!"}).then(h=>{if(h.isConfirmed){const p=document.querySelector('meta[name="csrf-token"]').getAttribute("content");fetch(`/regency/user/${r.id}/reset-password`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":p}}).then(t=>t.json()).then(t=>{t.success?o.fire({title:"Password Reset Successful!",html:`New password: <strong>${t.new_password}</strong><br><br>Please save this password and share it with the user.`,icon:"success",confirmButtonText:"OK"}):o.fire("Error",t.message||"Failed to reset password.","error")}).catch(t=>{console.error("Error:",t),o.fire("Error","An error occurred while resetting the password.","error")})}})};return e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(i.button,{onClick:()=>a(r),className:"text-blue-500 hover:text-blue-700",variants:s,whileHover:"hover",whileTap:"tap",title:"View",children:e.jsx(d,{size:16})}),e.jsx(i.button,{onClick:()=>n(r),className:"text-yellow-500 hover:text-yellow-700",variants:s,whileHover:"hover",whileTap:"tap",title:"Edit",children:e.jsx(w,{size:16})}),e.jsx(i.button,{onClick:c,className:"text-purple-500 hover:text-purple-700",variants:s,whileHover:"hover",whileTap:"tap",title:"Reset Password",children:e.jsx(u,{size:16})}),e.jsx(i.button,{onClick:()=>l(r),className:"text-green-500 hover:text-green-700",variants:s,whileHover:"hover",whileTap:"tap",title:"Print",children:e.jsx(m,{size:16})})]})}export{g as default};
