import{K as ba,r as i,j as e,L as ja,S}from"./app-cnLqKnWv.js";import{S as d}from"./sweetalert2.esm.all-LHqzTR4y.js";import{A as ya}from"./AuthenticatedLayout-DtE7q2g1.js";import va from"./List-CqKhk8zj.js";import{m as ka}from"./index-CyDsHmf4.js";import Na from"./Modal-Dkqcwd-b.js";import wa from"./PDF-BjBvblQi.js";import{F as Je,n as fa,a as X,b as Fa,c as _a,d as Ca,e as Sa,f as Le,g as Da,o as Ba,h as Aa,i as Pa}from"./index-CoBPEikz.js";import{l as Ka,m as Ea,a as Ta}from"./index-sj701c6h.js";import{M as b}from"./index-DC9iVcT_.js";import{C as $a,b as Ja,L as La,B as Ha,c as za,P as Ia,A as Ma,d as Wa,p as Va,a as Ra}from"./chart-DjzORYcU.js";import{P as w,B as He,D as ze}from"./index-BiDa0l7-.js";import{X as Ua}from"./index.es-Q68aKp3t.js";import{m as n}from"./proxy-0toHJmZX.js";import{A as Ga}from"./index-CSb7vC3W.js";import"./transition-LX_87-cn.js";import"./LoadingPage-CsjTuYab.js";import"./Actions-BBmxNL5h.js";import"./iconBase-CMF4PMHw.js";import"./Procces-DtG0Kf15.js";import"./jspdf.plugin.autotable-Cut1Q0GP.js";import"./typeof-QjJsDpFa.js";$a.register(Ja,La,Ha,za,Ia,Ma,Wa,Va,Ra);var Ie;const Xa=((Ie=document.querySelector('meta[name="csrf-token"]'))==null?void 0:Ie.getAttribute("content"))||"";function fs({initialOfficials:j,officials:y,role:c,position:u,selectFilteredOfficials:N,status_pejabat:Me,trainings:f,jenis_kelamin:We,pendidikan:D,jabatan:F,organizations:_,agama:Ve,golongan_darah:Re,status_perkawinan:Ue,official_count:qa,total_posisi:Qa,total_terisi:Za,kelengkapan_data:Oa,regency:B,districts:A,villages:P}){var le,ie,re,oe,de,ce,me,ue,he,ge,xe,pe,be,je,ye,ve,ke,Ne,we,fe,Fe,_e,Ce,Se,De,Be,Ae,Pe,Ke,Ee,Te,$e;const{flash:h}=ba().props,[Ge,Xe]=i.useState(j),[Ye,K]=i.useState(!1),[E,Y]=i.useState(!1),[es,q]=i.useState(!1),[T,Q]=i.useState(!1),[a,Z]=i.useState(null),[$,O]=i.useState(!1),[qe,Qe]=i.useState(""),[Ze,Oe]=i.useState([]),[r,ee]=i.useState({search:"",kecamatan:"",desa:"",education:"",position:"",gender:"",religion:"",blood_type:"",training:"",organization:"",status:""}),[ea,aa]=i.useState([]),[sa,ae]=i.useState([]),[ta,na]=i.useState(""),[la,ia]=i.useState(""),[as,ra]=i.useState({village_id:"",nik:"",niad:"",nama_lengkap:"",gelar_depan:"",gelar_belakang:"",tempat_lahir:"",tanggal_lahir:"",jenis_kelamin:"",status_perkawinan:"",agama:"",alamat:"",rt:"",rw:"",regency_code:"",regency_name:"",district_code:"",district_name:"",village_code:"",village_name:"",handphone:"",gol_darah:"",pendidikan:"",bpjs_kesehatan:"",bpjs_ketenagakerjaan:"",npwp:"",status:""});i.useEffect(()=>(E||T||$?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[E,T,$]),i.useEffect(()=>{fetch(`/local/districts/${B.code_bps}`,{headers:{Accept:"application/json"}}).then(s=>s.json()).then(s=>{s.success&&aa(s.data)}).catch(s=>{console.error("Error fetching kecamatan:",s)})},[B.code_bps]),i.useEffect(()=>{r.kecamatan?fetch(`/local/villages/${r.kecamatan}`,{headers:{Accept:"application/json"}}).then(s=>s.json()).then(s=>{s.success&&ae(s.data)}).catch(s=>{console.error("Error fetching desa:",s)}):(ae([]),ee(s=>({...s,desa:""})))},[r.kecamatan]),i.useEffect(()=>{h!=null&&h.success&&d.fire("Success",h.success,"success"),h!=null&&h.error&&d.fire("Error",h.error,"error")},[h]);const J={labels:Object.keys(D),datasets:[{label:"Jumlah",data:Object.values(D),borderColor:"#4CAF50",pointBackgroundColor:"#4CAF50",tension:.1,backgroundColor:"rgba(76, 175, 80, 0.2)"}]},L={labels:["Daftar","Diproses","Tervalidasi","Ditolak"],datasets:[{label:"Status",data:Me,backgroundColor:["#4CAF50","#FFC107","#2196F3","#F44336"],borderColor:"#FFFFFF",borderWidth:2}]},H={labels:["Laki-Laki","Perempuan"],datasets:[{label:"Jenis Kelamin",data:We,backgroundColor:["#2196F3","#E91E63"],borderColor:"#FFFFFF",borderWidth:2}]},z=(s,l)=>Array(s).fill().map((o,p)=>l[p%l.length]),I={labels:Object.keys(f),datasets:[{label:"Jumlah",data:Object.values(f),backgroundColor:z(Object.keys(f).length,["#4CAF50","#FFC107","#2196F3","#F44336","#9C27B0","#00BCD4","#FF9800","#8BC34A","#E91E63","#607D8B"]),borderColor:"#FFFFFF",borderWidth:2}]},M={labels:Object.keys(_),datasets:[{label:"Jumlah",data:Object.values(_),backgroundColor:z(Object.keys(_).length,["#4CAF50","#2196F3","#9C27B0","#FF9800","#607D8B","#F44336","#00BCD4","#8BC34A","#E91E63","#795548"]),borderColor:"#FFFFFF",borderWidth:2}]},W={labels:["Islam","Kristen","Katolik","Hindu","Buddha","Konghucu","Kosong"],datasets:[{label:"Jumlah",data:Ve,backgroundColor:["#4CAF50","#2196F3","#9C27B0","#FF9800","#607D8B","#F44336","#795548"],borderColor:"#FFFFFF",borderWidth:2}]},V={labels:["A","B","AB","O","Kosong"],datasets:[{label:"Jumlah",data:Re,backgroundColor:["#F44336","#2196F3","#4CAF50","#FFC107","#795548"],borderColor:"#FFFFFF",borderWidth:2}]},R={labels:Object.keys(F),datasets:[{label:"Jumlah",data:Object.values(F),backgroundColor:z(Object.keys(F).length,["#4CAF50","#2196F3","#9C27B0","#FF9800","#607D8B","#F44336","#00BCD4","#8BC34A","#E91E63","#795548"]),borderColor:"#FFFFFF",borderWidth:2}]},U={labels:["Belum Kawin","Kawin","Duda","Janda","Kosong"],datasets:[{label:"Jumlah",data:Ue,backgroundColor:["#2196F3","#4CAF50","#FF9800","#E91E63","#795548"],borderColor:"#FFFFFF",borderWidth:2}]},g={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#333333"}},title:{display:!0,color:"#333333",font:{size:18}}}},oa=[{name:"ID",selector:s=>s.id,sortable:!0,width:"80px"},{name:"Kategori",selector:s=>s.kategori,sortable:!0},{name:"Jumlah",selector:s=>s.jumlah,sortable:!0}],v=({page:s=1,perPage:l=10,search:o=r.search,filters:p=JSON.stringify(r),sortField:G=ta,sortDirection:C=la})=>{K(!0),S.get(`/regency/official/${c}`,{page:s,per_page:l,search:o,filters:p,sort_field:G,sort_direction:C},{preserveState:!0,replace:!0,onSuccess:pa=>{Xe(pa.props.officials),K(!1)},onError:()=>{d.fire("Error","Failed to fetch data. Please try again.","error"),K(!1)}})},da=s=>{Z(s),q(!1),Q(!0),Y(!0)},ca=s=>{const l={nama_lengkap:s.nama_lengkap,nik:s.nik,niad:s.niad,tempat_lahir:s.tempat_lahir,tanggal_lahir:s.tanggal_lahir,jenis_kelamin:s.jenis_kelamin,status_perkawinan:s.status_perkawinan,agama:s.agama,alamat:s.alamat,handphone:s.handphone,gol_darah:s.gol_darah,pendidikan:s.pendidikan,bpjs_kesehatan:s.bpjs_kesehatan,bpjs_ketenagakerjaan:s.bpjs_ketenagakerjaan,npwp:s.npwp,status:s.status};wa(l)},ma=(s,l)=>{window.location.href=`/regency/official/${l}/${s.nik}/edit`},ua=(s,l)=>{d.fire({title:"Are you sure?",text:"This data will be deleted!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(o=>{o.isConfirmed&&S.delete(`/regency/official/${l}/${s.nik}/delete`,{headers:{"X-CSRF-TOKEN":Xa},onSuccess:()=>{d.fire("Deleted!","Data has been successfully deleted.","success"),v({})},onError:()=>{d.fire("Error","An error occurred while deleting the data.","error")}})})},ha=s=>{d.fire({title:"Apakah anda yakin?",text:`Pilih terima untuk menyetujui verifikasi ${s.nama_lengkap}`,icon:"question",showCancelButton:!0,confirmButtonColor:"#28a745",cancelButtonColor:"#6c757d",confirmButtonText:"Terima",cancelButtonText:"Batal"}).then(l=>{l.isConfirmed&&S.put(`/regency/official/${s.nik}/accept`,{},{onSuccess:()=>{d.fire("Terima!",`Verifikasi ${s.nama_lengkap} diterima`,"success"),v({})},onError:()=>{d.fire("Error",`Verifikasi Terima ${s.nama_lengkap} dalam kendala`,"error")}})})},ga=s=>{d.fire({title:"Apakah anda yakin?",text:`Pilih terima untuk menolak verifikasi ${s.nama_lengkap}`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#6c757d",confirmButtonText:"Terima",cancelButtonText:"Batal"}).then(l=>{l.isConfirmed&&S.put(`/regency/official/${s.nik}/reject`,{},{onSuccess:()=>{d.fire("Tolak!",`Verifikasi ${s.nama_lengkap} ditolak`,"success"),v({})},onError:()=>{d.fire("Error",`Verifikasi Tolak ${s.nama_lengkap} dalam kendala`,"error")}})})},se=()=>{Y(!1),q(!1),Q(!1),Z(null),ra({village_id:"",nik:"",niad:"",nama_lengkap:"",gelar_depan:"",gelar_belakang:"",tempat_lahir:"",tanggal_lahir:"",jenis_kelamin:"",status_perkawinan:"",agama:"",alamat:"",rt:"",rw:"",regency_code:"",regency_name:"",district_code:"",district_name:"",village_code:"",village_name:"",handphone:"",gol_darah:"",pendidikan:"",bpjs_kesehatan:"",bpjs_ketenagakerjaan:"",npwp:"",status:""})},m=s=>{const{name:l,value:o}=s.target;let p={...r,[l]:o};l==="kecamatan"&&o!==r.kecamatan&&(p.desa=""),ee(p),v({filters:JSON.stringify(p)})},xa=(s,l)=>{na(s.selector),ia(l),v({sortField:s.selector,sortDirection:l})},x=(s,l,o)=>{Qe(s);const p=l.map((G,C)=>({id:C+1,kategori:G,jumlah:o[C]}));Oe(p),O(!0)},te=(A==null?void 0:A.length)??0,ne=(P==null?void 0:P.length)??0;return e.jsxs(ya,{header:e.jsxs("div",{className:"text-2xl font-semibold leading-tight text-white",children:["Daftar ",u.name,e.jsxs("p",{className:"text-xs font-normal mt-1 text-white",children:["Daftar pejabat desa dengan jabatan ",u.name]})]}),breadcrumb:[{name:"Pejabat",path:`/regency/official/${c}`,active:!0,icon:e.jsx(ka,{className:"w-5 h-5 mr-3"})}],children:[e.jsx(ja,{title:"Official"}),e.jsxs("div",{className:"py-6 max-w-full px-4 mx-auto",children:[e.jsxs(n.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},children:[e.jsxs(n.div,{className:"bg-gradient-to-r from-green-400 to-green-600 rounded-lg shadow-lg p-6 flex items-center space-x-4 justify-between text-white",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[e.jsx(Ka,{size:40,className:"text-white"}),e.jsxs("div",{className:"text-right",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Kabupaten"}),e.jsx("p",{className:"text-2xl font-semibold",children:B.name_bps})]})]}),e.jsxs(n.div,{className:"bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-lg shadow-lg p-6 flex items-center space-x-4 justify-between text-white",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},role:"region","aria-label":`Kecamatan count: ${te}`,children:[e.jsx(Ea,{size:40}),e.jsxs("div",{className:"text-right",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Kecamatan"}),e.jsx("p",{className:"text-2xl font-semibold",children:te})]})]}),e.jsxs(n.div,{className:"bg-gradient-to-r from-blue-400 to-blue-600 rounded-lg shadow-lg p-6 flex items-center space-x-4 justify-between text-white",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},role:"region","aria-label":`Desa count: ${ne}`,children:[e.jsx(Ta,{size:40}),e.jsxs("div",{className:"text-right",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Desa"}),e.jsx("p",{className:"text-2xl font-semibold",children:ne})]})]})]}),e.jsx(n.div,{className:"bg-white p-6 rounded-lg shadow-md my-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pencarian"}),e.jsx("input",{type:"text",name:"search",value:r.search,onChange:m,placeholder:"Cari nama atau NIK...",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Kecamatan"}),e.jsxs("select",{name:"kecamatan",value:r.kecamatan,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",children:[e.jsx("option",{value:"",children:"Semua"}),ea.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Desa"}),e.jsxs("select",{name:"desa",value:r.desa,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",disabled:!r.kecamatan,children:[e.jsx("option",{value:"",children:"Semua"}),sa.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pendidikan Terakhir"}),e.jsxs("select",{name:"education",value:r.education,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",children:[e.jsx("option",{value:"",children:"Semua"}),Object.keys(D).map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Jabatan"}),e.jsxs("select",{name:"position",value:r.position,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",children:[e.jsx("option",{value:"",children:"Semua"}),Object.keys(F).map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Jenis Kelamin"}),e.jsxs("select",{name:"gender",value:r.gender,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",children:[e.jsx("option",{value:"",children:"Semua"}),e.jsx("option",{value:"L",children:"Laki-Laki"}),e.jsx("option",{value:"P",children:"Perempuan"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Agama"}),e.jsxs("select",{name:"religion",value:r.religion,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",children:[e.jsx("option",{value:"",children:"Semua"}),["Islam","Kristen","Katolik","Hindu","Buddha","Konghucu","Kosong"].map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Golongan Darah"}),e.jsxs("select",{name:"blood_type",value:r.blood_type,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",children:[e.jsx("option",{value:"",children:"Semua"}),["A","B","AB","O","Kosong"].map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pelatihan"}),e.jsxs("select",{name:"training",value:r.training,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",children:[e.jsx("option",{value:"",children:"Semua"}),Object.keys(f).map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Organisasi"}),e.jsxs("select",{name:"organization",value:r.organization,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",children:[e.jsx("option",{value:"",children:"Semua"}),Object.keys(_).map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status Aktif"}),e.jsxs("select",{name:"status",value:r.status,onChange:m,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",children:[e.jsx("option",{value:"",children:"Semua"}),["daftar","proses","validasi","tolak"].map(s=>e.jsx("option",{value:s,children:s},s))]})]})]})}),e.jsx(n.div,{className:"mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:e.jsx(va,{officials:Ge,fetchData:v,loading:Ye,onEdit:ma,onDelete:ua,onView:da,onPrint:ca,position:u,onAccept:ha,onReject:ga,role:c,onSort:xa})}),e.jsxs(n.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},children:[e.jsxs(n.div,{className:"bg-white p-6 rounded-lg shadow-md col-span-2",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Status Pejabat"}),e.jsx("button",{onClick:()=>x("Status Pejabat",L.labels,L.datasets[0].data),children:e.jsx(b,{className:"text-green-600",size:24})})]}),e.jsx("div",{className:"relative",style:{height:"300px"},children:e.jsx(w,{data:L,options:g})})]}),e.jsxs(n.div,{className:"bg-white p-6 rounded-lg shadow-md",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Jenis Kelamin"}),e.jsx("button",{onClick:()=>x("Jenis Kelamin",H.labels,H.datasets[0].data),children:e.jsx(b,{className:"text-green-600",size:24})})]}),e.jsx("div",{className:"relative",style:{height:"300px"},children:e.jsx(w,{data:H,options:g})})]}),e.jsxs(n.div,{className:"bg-white p-6 rounded-lg shadow-md",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Status Perkawinan"}),e.jsx("button",{onClick:()=>x("Status Perkawinan",U.labels,U.datasets[0].data),children:e.jsx(b,{className:"text-green-600",size:24})})]}),e.jsx("div",{className:"relative",style:{height:"300px"},children:e.jsx(w,{data:U,options:g})})]}),e.jsxs(n.div,{className:"bg-white p-6 rounded-lg shadow-md col-span-2",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Pendidikan Terakhir"}),e.jsx("button",{onClick:()=>x("Pendidikan Terakhir",J.labels,J.datasets[0].data),children:e.jsx(b,{className:"text-green-600",size:24})})]}),e.jsx("div",{className:"relative",style:{height:"300px"},children:e.jsx(He,{data:J,options:{...g,indexAxis:"y"}})})]}),e.jsxs(n.div,{className:"bg-white p-6 rounded-lg shadow-md",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Pelatihan"}),e.jsx("button",{onClick:()=>x("Pelatihan",I.labels,I.datasets[0].data),children:e.jsx(b,{className:"text-green-600",size:24})})]}),e.jsx("div",{className:"relative",style:{height:"300px"},children:e.jsx(ze,{data:I,options:g})})]}),e.jsxs(n.div,{className:"bg-white p-6 rounded-lg shadow-md",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Organisasi"}),e.jsx("button",{onClick:()=>x("Organisasi",M.labels,M.datasets[0].data),children:e.jsx(b,{className:"text-green-600",size:24})})]}),e.jsx("div",{className:"relative",style:{height:"300px"},children:e.jsx(ze,{data:M,options:g})})]}),e.jsxs(n.div,{className:"bg-white p-6 rounded-lg shadow-md",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Agama"}),e.jsx("button",{onClick:()=>x("Agama",W.labels,W.datasets[0].data),children:e.jsx(b,{className:"text-green-600",size:24})})]}),e.jsx("div",{className:"relative",style:{height:"300px"},children:e.jsx(w,{data:W,options:g})})]}),e.jsxs(n.div,{className:"bg-white p-6 rounded-lg shadow-md",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Golongan Darah"}),e.jsx("button",{onClick:()=>x("Golongan Darah",V.labels,V.datasets[0].data),children:e.jsx(b,{className:"text-green-600",size:24})})]}),e.jsx("div",{className:"relative",style:{height:"300px"},children:e.jsx(w,{data:V,options:g})})]}),e.jsxs(n.div,{className:"bg-white p-6 rounded-lg shadow-md col-span-2",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Jabatan"}),e.jsx("button",{onClick:()=>x("Jabatan",R.labels,R.datasets[0].data),children:e.jsx(b,{className:"text-green-600",size:24})})]}),e.jsx("div",{className:"relative",style:{height:"300px"},children:e.jsx(He,{data:R,options:{...g,indexAxis:"y"}})})]})]}),$&&e.jsx(n.div,{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsxs(n.div,{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-3xl max-h-[80vh] overflow-y-auto",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:-50,opacity:0},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:qe}),e.jsx("button",{className:"p-1 bg-red-600 text-white rounded-lg font-bold",onClick:()=>O(!1),children:e.jsx(Je,{})})]}),e.jsx(Ua,{columns:oa,data:Ze,pagination:!0,highlightOnHover:!0})]})}),e.jsx(Na,{isOpen:E&&T,onClose:se,title:"Detail Pejabat Desa",children:e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"space-y-4 overflow-y-auto max-h-[90vh]",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-xl",children:[(le=a==null?void 0:a.identities)!=null&&le.foto?e.jsxs(n.div,{whileHover:{scale:1.03},className:"relative group cursor-pointer",children:[e.jsx("img",{src:`/private-images/${(ie=a==null?void 0:a.identities)==null?void 0:ie.foto}`,alt:`Foto ${a.nama_lengkap}`,className:"w-32 h-32 rounded-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(fa,{className:"text-white text-2xl"})})]}):e.jsx("div",{className:"w-32 h-32 rounded-full bg-gray-200 flex items-center justify-center text-gray-400",children:e.jsx(X,{className:"text-5xl"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs(n.h2,{className:"text-2xl font-bold text-gray-800 mb-1",initial:{x:-10,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1},children:[(a==null?void 0:a.gelar_depan)&&`${a.gelar_depan} `,a==null?void 0:a.nama_lengkap,(a==null?void 0:a.gelar_belakang)&&`, ${a.gelar_belakang}`]}),e.jsx(n.p,{className:"text-lg text-blue-600 font-medium mb-3",initial:{x:-10,opacity:0},animate:{x:0,opacity:1},transition:{delay:.15},children:(oe=(re=a==null?void 0:a.position_current)==null?void 0:re.position)==null?void 0:oe.name}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(n.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm flex items-center gap-1",children:[e.jsx(X,{size:14})," ",(a==null?void 0:a.jenis_kelamin)==="L"?"Laki-laki":"Perempuan"]}),e.jsxs(n.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.25},className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm flex items-center gap-1",children:[e.jsx(Fa,{size:14})," ",a==null?void 0:a.tanggal_lahir," (",Ya(a==null?void 0:a.tanggal_lahir)," tahun)"]}),e.jsxs(n.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3},className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm flex items-center gap-1",children:[e.jsx(_a,{size:14})," Gol. Darah:"," ",((de=a==null?void 0:a.identities)==null?void 0:de.gol_darah)||"-"]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(k,{title:"Informasi Pribadi",icon:e.jsx(X,{className:"text-blue-500"}),children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:[e.jsx(t,{label:"NIK",value:a==null?void 0:a.nik}),e.jsx(t,{label:"NIPD",value:a==null?void 0:a.niad}),e.jsx(t,{label:"Tempat Lahir",value:a==null?void 0:a.tempat_lahir}),e.jsx(t,{label:"Tanggal Lahir",value:a==null?void 0:a.tanggal_lahir}),e.jsx(t,{label:"Agama",value:a==null?void 0:a.agama}),e.jsx(t,{label:"Status Perkawinan",value:a==null?void 0:a.status_perkawinan}),e.jsx(t,{label:"Pendidikan Terakhir",value:(ce=a==null?void 0:a.identities)==null?void 0:ce.pendidikan_terakhir})]})}),e.jsx(k,{title:"Alamat",icon:e.jsx(Ca,{className:"text-green-500"}),children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4",children:[e.jsx(t,{label:"Alamat",value:(me=a==null?void 0:a.addresses)==null?void 0:me.alamat,fullWidth:!0}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(t,{label:"RT",value:(ue=a==null?void 0:a.addresses)==null?void 0:ue.rt}),e.jsx(t,{label:"RW",value:(he=a==null?void 0:a.addresses)==null?void 0:he.rw})]}),e.jsx(t,{label:"Desa/Kelurahan",value:`${(ge=a==null?void 0:a.addresses)==null?void 0:ge.village_name} (${(xe=a==null?void 0:a.village)==null?void 0:xe.name_dagri})`}),e.jsx(t,{label:"Kecamatan",value:`${(pe=a==null?void 0:a.addresses)==null?void 0:pe.district_name} (${(je=(be=a==null?void 0:a.village)==null?void 0:be.district)==null?void 0:je.name_dagri})`}),e.jsx(t,{label:"Kabupaten/Kota",value:`${(ye=a==null?void 0:a.addresses)==null?void 0:ye.regency_name} (${(Ne=(ke=(ve=a==null?void 0:a.village)==null?void 0:ve.district)==null?void 0:ke.regency)==null?void 0:Ne.name_dagri})`}),e.jsx(t,{label:"Provinsi",value:(we=a==null?void 0:a.addresses)==null?void 0:we.province_name})]})}),e.jsx(k,{title:"Kontak",icon:e.jsx(Sa,{className:"text-purple-500"}),children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4",children:[e.jsx(t,{label:"Nomor Handphone",value:(fe=a==null?void 0:a.contacts)==null?void 0:fe.handphone}),e.jsx(t,{label:"Email",value:((Fe=a==null?void 0:a.contacts)==null?void 0:Fe.email)||"-"})]})}),e.jsx(k,{title:"Dokumen Identitas",icon:e.jsx(Le,{className:"text-yellow-500"}),children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:[e.jsx(t,{label:"BPJS Kesehatan",value:((_e=a==null?void 0:a.identities)==null?void 0:_e.bpjs_kesehatan)||"-"}),e.jsx(t,{label:"BPJS Ketenagakerjaan",value:((Ce=a==null?void 0:a.identities)==null?void 0:Ce.bpjs_ketenagakerjaan)||"-"}),e.jsx(t,{label:"NPWP",value:((Se=a==null?void 0:a.identities)==null?void 0:Se.npwp)||"-"})]})}),e.jsx(k,{title:"Posisi & Jabatan",icon:e.jsx(Da,{className:"text-red-500"}),children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:[e.jsx(t,{label:"Jabatan",value:(Be=(De=a==null?void 0:a.position_current)==null?void 0:De.position)==null?void 0:Be.name}),e.jsx(t,{label:"Penetap",value:(Ae=a==null?void 0:a.position_current)==null?void 0:Ae.penetap}),e.jsx(t,{label:"Nomor SK",value:(Pe=a==null?void 0:a.position_current)==null?void 0:Pe.nomor_sk}),e.jsx(t,{label:"Tanggal SK",value:(Ke=a==null?void 0:a.position_current)==null?void 0:Ke.tanggal_sk}),e.jsx(t,{label:"TMT Jabatan",value:(Ee=a==null?void 0:a.position_current)==null?void 0:Ee.tmt_jabatan}),((Te=a==null?void 0:a.position_current)==null?void 0:Te.file_sk)&&e.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"File SK"}),e.jsxs("a",{href:a.position_current.file_sk,target:"_blank",rel:"noopener noreferrer",className:"mt-1 inline-flex items-center text-blue-600 hover:underline",children:[e.jsx(Le,{className:"mr-1"})," Lihat Dokumen SK"]})]})]})}),e.jsx(k,{title:"History Status Log",icon:e.jsx(Ba,{className:"text-green-500"}),children:($e=a==null?void 0:a.status_logs)!=null&&$e.length?e.jsx("div",{className:"p-4 space-y-6",children:a.status_logs.map((s,l)=>{var o;return e.jsxs("div",{className:"border rounded-lg shadow-sm p-4 bg-white",children:[e.jsxs("h4",{className:"font-semibold text-gray-700 mb-3",children:["#",l+1," â€“ ",(o=s.status_baru)==null?void 0:o.toUpperCase()]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-4 gap-y-2 text-sm",children:[e.jsx(t,{label:"ID Log",value:s.id}),e.jsx(t,{label:"Status Sebelumnya",value:s.status_sebelumnya??"-"}),e.jsx(t,{label:"Status Baru",value:s.status_baru}),e.jsx(t,{label:"User ID",value:s.user_id}),e.jsx(t,{label:"Dibuat",value:new Date(s.created_at).toLocaleString()}),e.jsx(t,{label:"Diubah",value:new Date(s.updated_at).toLocaleString()}),s.keterangan&&e.jsx("div",{className:"md:col-span-2 lg:col-span-3",children:e.jsx(t,{label:"Keterangan",value:s.keterangan})})]})]},s.id)})}):e.jsx("p",{className:"p-4 text-gray-500 italic",children:"Belum ada history perubahan status."})})]}),e.jsx("div",{className:"flex justify-end pt-4 p-4",children:e.jsxs(n.button,{whileHover:{scale:1.05,boxShadow:"0px 2px 8px rgba(0,0,0,0.1)"},whileTap:{scale:.98},onClick:se,className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 flex items-center gap-2 shadow-md",children:[e.jsx(Je,{size:18})," Tutup"]})})]})})]})]})}const k=({title:j,icon:y,children:c})=>{const[u,N]=i.useState(!0);return e.jsxs(n.div,{className:"bg-white rounded-xl overflow-hidden border border-gray-100 shadow",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsxs("button",{onClick:()=>N(!u),className:"w-full flex justify-between items-center p-4 hover:bg-gray-100 bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-lg",children:y}),e.jsx("h3",{className:"text-lg font-medium text-gray-800",children:j})]}),u?e.jsx(Aa,{}):e.jsx(Pa,{})]}),e.jsx(Ga,{children:u&&e.jsx(n.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:c})})]})},t=({label:j,value:y,fullWidth:c=!1})=>e.jsxs("div",{className:c?"md:col-span-2 lg:col-span-3":"",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:j}),e.jsx("p",{className:"mt-1 text-gray-900 font-medium",children:y||"-"})]}),Ya=j=>{if(!j)return"-";const y=new Date,c=new Date(j);let u=y.getFullYear()-c.getFullYear();const N=y.getMonth()-c.getMonth();return(N<0||N===0&&y.getDate()<c.getDate())&&u--,u};export{fs as default};
