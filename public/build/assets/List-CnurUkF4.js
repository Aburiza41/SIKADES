import{r,j as n}from"./app-CVPon-in.js";import{X as f}from"./index.es-Cx28G3hx.js";import{i as h}from"./index-QcoFFRoy.js";import{u,w as A}from"./xlsx-5rFX-EW9.js";import H from"./Actions-CHLjMDz1.js";import{m as p}from"./proxy-D2F4h_SH.js";import"./iconBase-DWCpscjx.js";import"./index-Bid0kMqz.js";function Q({officials:t,fetchData:w,loading:b,onEdit:S,onDelete:j,onView:v,onPrint:k}){const[l,P]=r.useState(""),[i,N]=r.useState(""),[a,g]=r.useState((t==null?void 0:t.current_page)||1),[c,y]=r.useState((t==null?void 0:t.per_page)||10),[m,E]=r.useState("id"),[x,C]=r.useState("asc"),D=["SD/MI","SMP/MTS","SMA/SMK/MA","D1","D2","D3","D4","S1","S2","S3"];r.useEffect(()=>{w({page:a,perPage:c,search:l,filters:i,sortField:m,sortDirection:x})},[a,c,l,i,m,x]);const F=e=>{g(e)},_=(e,s)=>{y(e),g(s)},R=(e,s)=>{const o=["asc","desc"].includes(s)?s:"asc",T=["id","nama_lengkap","nik","niad","pendidikan","created_at","updated_at"].includes(e.selector)?e.selector:"id";E(T),C(o)},O=()=>{const e=JSON.stringify(t.data,null,2),s=new Blob([e],{type:"application/json"}),d=URL.createObjectURL(s),o=document.createElement("a");o.href=d,o.download="officials.json",o.click(),URL.revokeObjectURL(d)},L=()=>{const e=u.json_to_sheet(t.data),s=u.book_new();u.book_append_sheet(s,e,"officials"),A(s,"officials.xlsx")},M=[{name:"No",cell:(e,s)=>(a-1)*c+s+1,width:"70px"},{name:"Nama Lengkap",selector:e=>e.nama_lengkap,sortable:!0,width:"200px"},{name:"NIK",selector:e=>e.nik,sortable:!0},{name:"NIAD",selector:e=>e.niad,sortable:!0},{name:"Pendidikan",selector:e=>e.pendidikan||"-",sortable:!0},{name:"Aksi",cell:e=>n.jsx(H,{row:e,onEdit:S,onDelete:j,onView:v,onPrint:k}),ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px"}];return n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg border border-gray-300",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[n.jsx(p.input,{type:"text",placeholder:"Cari nama...",value:l,onChange:e=>P(e.target.value),className:"border p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-full md:w-auto",whileHover:{scale:1.02},whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300}}),n.jsxs("select",{name:"education",value:i,onChange:e=>N(e.target.value),className:"border p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-full md:w-auto",children:[n.jsx("option",{value:"",children:"Semua Pendidikan"}),D.map((e,s)=>n.jsx("option",{value:e,children:e},s))]}),n.jsxs("div",{className:"flex gap-2 w-full md:w-auto justify-end",children:[n.jsxs(p.button,{onClick:O,className:"bg-blue-500 text-white px-4 py-2 rounded-lg flex items-center",whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300},children:[n.jsx(h,{className:"mr-2"})," Export JSON"]}),n.jsxs(p.button,{onClick:L,className:"bg-green-500 text-white px-4 py-2 rounded-lg flex items-center",whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300},children:[n.jsx(h,{className:"mr-2"})," Export Excel"]})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsx(f,{columns:M,data:(t==null?void 0:t.data)||[],pagination:!0,paginationServer:!0,paginationTotalRows:(t==null?void 0:t.total)||0,paginationDefaultPage:a,onChangePage:F,onChangeRowsPerPage:_,onSort:R,highlightOnHover:!0,pointerOnHover:!0,striped:!0,responsive:!0,progressPending:b})})]})}export{Q as default};
