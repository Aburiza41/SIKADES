import{m as b,j as e}from"./app-cnLqKnWv.js";import{S as o}from"./sweetalert2.esm.all-LHqzTR4y.js";function f({isEdit:r,initialData:x,onClose:n}){const{data:a,setData:i,post:c,errors:t,processing:u,reset:p}=b(x),l=s=>{i(s.target.name,s.target.value)},g=s=>{s.preventDefault();const m=()=>{o.fire({title:"Berhasil!",text:r?"Data berhasil diperbarui.":"Data berhasil ditambahkan.",icon:"success"}),n(),p()},d=h=>{o.fire({title:"Validasi Gagal",text:Object.values(h).flat().join(", "),icon:"error"})};r?c(`/admin/aparatus/${a.id}`,{onSuccess:m,onError:d}):c("/admin/aparatus",{onSuccess:m,onError:d})};return e.jsxs("form",{onSubmit:g,className:"space-y-4 p-6 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Judul"}),e.jsx("input",{type:"text",name:"title",value:a.title,onChange:l,className:"w-full px-4 py-2 border rounded-lg"}),t.title&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Deskripsi"}),e.jsx("textarea",{name:"description",value:a.description,onChange:l,className:"w-full px-4 py-2 border rounded-lg"}),t.description&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Harga"}),e.jsx("input",{type:"number",name:"price",value:a.price,onChange:l,className:"w-full px-4 py-2 border rounded-lg"}),t.price&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.price})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"URL Gambar"}),e.jsx("input",{type:"text",name:"image",value:a.image,onChange:l,className:"w-full px-4 py-2 border rounded-lg"}),t.image&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.image})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Slug"}),e.jsx("input",{type:"text",name:"slug",value:a.slug,onChange:l,className:"w-full px-4 py-2 border rounded-lg"}),t.slug&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.slug})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"is_active",checked:a.is_active,onChange:s=>i("is_active",s.target.checked),className:"w-5 h-5 text-green-600 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 text-sm font-medium text-gray-700",children:"Aktif"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{type:"submit",disabled:u,className:`px-4 py-2 text-white rounded-lg transition ${r?"bg-yellow-600 hover:bg-yellow-700":"bg-green-600 hover:bg-green-700"}`,children:r?"Update Data":"Tambah Data"}),e.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 border rounded-lg hover:bg-gray-200 transition",children:"Batal"})]})]})}export{f as default};
