import{K as M,r as l,j as e,$ as _}from"./app-cnLqKnWv.js";import"./sweetalert2.esm.all-LHqzTR4y.js";import{Q as A,o as D,d as R,L as $,M as E,N as L}from"./index-sj701c6h.js";import I from"./Actions-L4OajIaQ.js";import{m as K}from"./proxy-0toHJmZX.js";import"./iconBase-CMF4PMHw.js";import"./index-CoBPEikz.js";function Z({officials:s,fetchData:y,loading:N,onEdit:w,onDelete:k,onView:v,onPrint:P,position:B,onAccept:H,onReject:Q,role:o}){var b;M().props.auth.user;const[h,U]=l.useState(""),[u,q]=l.useState(""),[r,g]=l.useState((s==null?void 0:s.current_page)||1),[d,S]=l.useState((s==null?void 0:s.per_page)||10),[c,C]=l.useState("created_at"),[x,j]=l.useState("desc");l.useEffect(()=>{y({page:r,perPage:d,search:h,filters:u,sortField:c,sortDirection:x})},[r,d,h,u,c,x]);const m=t=>g(t),F=t=>{S(Number(t.target.value)),g(1)},i=t=>{c===t?j(x==="asc"?"desc":"asc"):(C(t),j("asc"))},p=t=>c!==t?e.jsx($,{className:"ml-1"}):x==="asc"?e.jsx(E,{className:"ml-1"}):e.jsx(L,{className:"ml-1"}),T=({role:t})=>{let a="",n="";switch(t){case"tolak":a="bg-red-500",n="Tolak";break;case"daftar":a="bg-blue-500",n="Daftar";break;case"validasi":a="bg-green-500",n="Terima";break;case"proses":a="bg-yellow-500",n="Proses";break;default:a="bg-gray-500",n="Tidak Diketahui"}return e.jsx("span",{className:`px-2 py-1 text-xs text-white rounded-full ${a}`,children:n})};return e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg border border-gray-300",children:[e.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:e.jsx("div",{className:"flex gap-2 w-full md:w-auto justify-end",children:e.jsx(K.div,{whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300},children:e.jsxs(_,{href:`/village/official/${o}/create`,className:"bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center",children:[e.jsx(A,{className:"mr-2"})," Tambah"]})})})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs border",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-2 py-2 border text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"70px"},children:"No"}),e.jsx("th",{scope:"col",className:"px-2 py-2 border text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"250px"},onClick:()=>i("nama_lengkap"),children:e.jsxs("div",{className:"flex items-center cursor-pointer",children:["Nama Lengkap",p("nama_lengkap")]})}),e.jsx("th",{scope:"col",className:"px-2 py-2 border text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"150px"},onClick:()=>i("nik"),children:e.jsxs("div",{className:"flex items-center cursor-pointer",children:["NIK",p("nik")]})}),e.jsx("th",{scope:"col",className:"px-2 py-2 border text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"150px"},onClick:()=>i("nipd"),children:e.jsxs("div",{className:"flex items-center cursor-pointer",children:["NIPD",p("nipd")]})}),e.jsx("th",{scope:"col",className:"px-2 py-2 border text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"150px"},onClick:()=>i("pendidikan"),children:e.jsxs("div",{className:"flex items-center cursor-pointer",children:["Pendidikan",p("pendidikan")]})}),e.jsx("th",{className:"px-2 py-2 border text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-2 py-2 border text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"120px"},children:"Aksi"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-2 py-4 border text-center",children:"Memuat data..."})}):((b=s==null?void 0:s.data)==null?void 0:b.length)>0?s.data.map((t,a)=>{var n;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-2 py-2 border whitespace-nowrap",children:(r-1)*d+a+1}),e.jsx("td",{className:"px-2 py-2 border whitespace-nowrap",children:t.nama_lengkap}),e.jsx("td",{className:"px-2 py-2 border whitespace-nowrap",children:t.nik}),e.jsx("td",{className:"px-2 py-2 border whitespace-nowrap",children:t.nipd}),e.jsx("td",{className:"px-2 py-2 border whitespace-nowrap",children:((n=t==null?void 0:t.identities)==null?void 0:n.pendidikan_terakhir)||"-"}),e.jsx("td",{className:"border px-2 py-2 whitespace-nowrap text-sm text-gray-500 text-center",children:e.jsx(T,{role:t.status})}),e.jsx("td",{className:"px-2 py-2 border whitespace-nowrap",children:e.jsx(I,{row:t,onEdit:w,onDelete:k,onView:v,onPrint:P,role:o})})]},t.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center",children:"Tidak ada data yang ditemukan"})})})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mt-4",children:[e.jsxs("div",{className:"mb-2 md:mb-0 flex items-center gap-4",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("select",{id:"rowsPerPage",value:d,onChange:F,className:"border rounded",children:[5,10,25,50,100].map(t=>e.jsx("option",{value:t,children:t},t))})}),e.jsxs("span",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:(r-1)*d+1})," ","-"," ",e.jsx("span",{className:"font-medium",children:Math.min(r*d,(s==null?void 0:s.total)||0)})," ","Total"," ",e.jsx("span",{className:"font-medium",children:(s==null?void 0:s.total)||0})]})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>m(r-1),disabled:r===1,className:"px-3 py-1 border rounded disabled:opacity-50 bg-green-700 text-white",children:e.jsx(D,{})}),Array.from({length:Math.ceil(((s==null?void 0:s.total)||0)/d)},(t,a)=>a+1).slice(Math.max(0,r-3),Math.min(Math.ceil(((s==null?void 0:s.total)||0)/d),r+2)).map(t=>e.jsx("button",{onClick:()=>m(t),className:`px-3 py-1 border rounded ${r===t?"bg-green-700 text-white opacity-50":""}`,children:t},t)),e.jsx("button",{onClick:()=>m(r+1),disabled:r===Math.ceil(((s==null?void 0:s.total)||0)/d),className:"px-3 py-1 border rounded disabled:opacity-50 bg-green-700 text-white",children:e.jsx(R,{})})]})})]})]})}export{Z as default};
