import{r as g,j as e}from"./app-EIz8nQ5Q.js";import{b as y,c as b,i as n,d as C,e as N,l as H,k as D,f as A,g as F}from"./index-D-VSm5dn.js";import{u as k}from"./index-CuuF2Vom.js";import{S as o}from"./sweetalert2.esm.all-LHqzTR4y.js";import{m as t}from"./proxy-Br4hXrCY.js";import{A as E}from"./index-26-9MRme.js";import"./iconBase-CIswt8ol.js";function U({officialStudies:c=[],setOfficialStudies:u}){const[i,l]=g.useState({tingkatPendidikan:"",namaSekolah:"",tempat:"",nomorIjazah:"",tanggalIjazah:"",dokumenIjazah:null}),[d,f]=g.useState(null),[w,p]=g.useState(!1),v=["SD/MI","SMP/MTS","SMA/SMK/MA","D1","D2","D3","D4","S1","S2","S3"],j=()=>{l({tingkatPendidikan:"",namaSekolah:"",tempat:"",nomorIjazah:"",tanggalIjazah:"",dokumenIjazah:null}),f(null)},h=(a=null)=>{if(a!==null){const s=c[a];l({tingkatPendidikan:s.tingkatPendidikan,namaSekolah:s.namaSekolah,tempat:s.tempat,nomorIjazah:s.nomorIjazah,tanggalIjazah:s.tanggalIjazah,dokumenIjazah:s.dokumenIjazah}),f(a)}p(!0)},r=a=>{const{name:s,value:m}=a.target;l(x=>({...x,[s]:m}))},I=a=>{const s=a.target.files[0];if(!s)return;if(!["application/pdf","image/jpeg","image/png"].includes(s.type)){o.fire("Error","Hanya file PDF, JPEG, atau PNG yang diizinkan","error");return}if(s.size>5*1024*1024){o.fire("Error","Ukuran file maksimal 5MB","error");return}l(x=>({...x,dokumenIjazah:s}))},z=()=>{l(a=>({...a,dokumenIjazah:null}))},S=()=>{if(!i.tingkatPendidikan||!i.namaSekolah){o.fire({icon:"error",title:"Oops...",text:"Harap isi Tingkat Pendidikan dan Nama Sekolah!"});return}const a={...i};if(d!==null){const s=[...c];s[d]=a,u(s)}else u(s=>[...s,a]);p(!1),j()},T=a=>{o.fire({title:"Apakah Anda yakin?",text:"Data yang dihapus tidak dapat dikembalikan!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, hapus!",cancelButtonText:"Batal"}).then(s=>{s.isConfirmed&&(u(m=>m.filter((x,P)=>P!==a)),o.fire("Dihapus!","Data telah dihapus.","success"))})};return e.jsxs(t.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"bg-white w-full p-6 shadow rounded-lg mt-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4 pb-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(t.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:.5},children:e.jsx(k,{className:"text-3xl text-blue-500"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"E. RIWAYAT PENDIDIKAN"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1 flex items-center",children:[e.jsx(y,{className:"mr-1 text-blue-500"}),"Formulir ini digunakan untuk mengisi riwayat pendidikan pejabat desa."]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:e.jsxs(t.button,{type:"button",onClick:()=>h(),whileHover:{scale:1.03},whileTap:{scale:.98},className:"px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700 flex items-center text-sm font-medium shadow-md",children:[e.jsx(b,{className:"mr-2 text-lg"})," Tambah Riwayat"]})})]}),e.jsx(t.div,{variants:{hidden:{opacity:0},visible:{opacity:1}},initial:"hidden",animate:"visible",className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"TINGKAT PENDIDIKAN"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"NAMA SEKOLAH"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"TEMPAT"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IJAZAH"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"AKSI"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.length>0?c.map((a,s)=>e.jsxs(t.tr,{className:"hover:bg-gray-50",variants:{hidden:{opacity:0},visible:{opacity:1}},children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:a.tingkatPendidikan}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:a.namaSekolah}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:a.tempat||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:a.dokumenIjazah?e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:a.nomorIjazah||"No.Ijazah"}),e.jsxs("a",{href:URL.createObjectURL(a.dokumenIjazah),target:"_blank",className:"text-blue-500 hover:underline flex items-center",children:[e.jsx(n,{className:"mr-1"})," Lihat"]})]}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(t.button,{type:"button",onClick:()=>h(s),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1 bg-gradient-to-r from-amber-500 to-amber-600 text-white rounded-lg hover:from-amber-600 hover:to-amber-700 flex items-center text-xs shadow-sm",children:[e.jsx(C,{className:"mr-1"})," Edit"]}),e.jsxs(t.button,{type:"button",onClick:()=>T(s),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:from-red-600 hover:to-red-700 flex items-center text-xs shadow-sm",children:[e.jsx(N,{className:"mr-1"})," Hapus"]})]})})]},s)):e.jsx(t.tr,{variants:{hidden:{opacity:0},visible:{opacity:1}},children:e.jsx("td",{colSpan:"5",className:"px-6 py-8 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-400",children:[e.jsx(y,{className:"text-4xl mb-2 text-blue-200"}),e.jsx("p",{className:"text-sm font-medium",children:"Tidak ada data riwayat pendidikan."}),e.jsxs(t.button,{type:"button",onClick:()=>h(),whileHover:{scale:1.03},whileTap:{scale:.98},className:"mt-4 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 flex items-center text-sm font-medium shadow-md",children:[e.jsx(b,{className:"mr-2"})," Tambah Riwayat"]})]})})})})]})})]}),e.jsx(E,{children:w&&e.jsx(t.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsx(t.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},transition:{type:"spring",damping:25},className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto border border-gray-200",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[e.jsx(k,{className:"mr-2 text-blue-500"}),d!==null?"Edit Riwayat Pendidikan":"Tambah Riwayat Pendidikan"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs(t.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1},className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[e.jsx(n,{className:"mr-2 text-blue-500"})," Tingkat Pendidikan *"]}),e.jsxs(t.select,{name:"tingkatPendidikan",value:i.tingkatPendidikan,onChange:r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0,whileFocus:"focus",children:[e.jsx("option",{value:"",children:"Pilih Pendidikan"}),v.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs(t.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.2},className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[e.jsx(n,{className:"mr-2 text-blue-500"})," Nama Sekolah *"]}),e.jsx(t.input,{type:"text",name:"namaSekolah",value:i.namaSekolah,onChange:r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Nama Sekolah",required:!0,whileFocus:"focus"})]}),e.jsxs(t.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.3},children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[e.jsx(H,{className:"mr-2 text-blue-500"})," Tempat"]}),e.jsx(t.input,{type:"text",name:"tempat",value:i.tempat,onChange:r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Tempat",whileFocus:"focus"})]}),e.jsxs(t.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.4},children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[e.jsx(n,{className:"mr-2 text-blue-500"})," Nomor Ijazah"]}),e.jsx(t.input,{type:"text",name:"nomorIjazah",value:i.nomorIjazah,onChange:r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Nomor Ijazah",whileFocus:"focus"})]}),e.jsxs(t.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.5},children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[e.jsx(D,{className:"mr-2 text-blue-500"})," Tanggal Ijazah"]}),e.jsx(t.input,{type:"date",name:"tanggalIjazah",value:i.tanggalIjazah,onChange:r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",whileFocus:"focus"})]}),e.jsxs(t.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.6},className:"col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[e.jsx(n,{className:"mr-2 text-blue-500"})," Dokumen Ijazah"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t.input,{type:"file",onChange:I,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",accept:".pdf,.jpg,.jpeg,.png",whileFocus:"focus"}),i.dokumenIjazah&&e.jsx("button",{onClick:z,className:"p-2 text-red-500 hover:text-red-700",title:"Hapus dokumen",children:e.jsx(N,{})})]}),i.dokumenIjazah&&e.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-600",children:[e.jsx(n,{className:"mr-2"}),e.jsx("span",{children:i.dokumenIjazah.name}),e.jsxs("span",{className:"ml-2 text-gray-400",children:["(",(i.dokumenIjazah.size/1024).toFixed(1)," KB)"]})]})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsxs(t.button,{type:"button",onClick:()=>{p(!1),j()},whileHover:{scale:1.03},whileTap:{scale:.98},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors flex items-center",children:[e.jsx(A,{className:"mr-2"})," Batal"]}),e.jsxs(t.button,{type:"button",onClick:S,whileHover:{scale:1.03},whileTap:{scale:.98},className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transition-colors flex items-center shadow-md",children:[e.jsx(F,{className:"mr-2"})," ",d!==null?"Simpan Perubahan":"Simpan"]})]})]})})})})]})}export{U as default};
