import{r as i,j as e,$ as t,K as g}from"./app-cnLqKnWv.js";import{o as m,m as x,f as C,p as L,q as T,r as b,d as H,s as F,t as $,u as N,v as D}from"./index-CyDsHmf4.js";import{l as O,m as z,a as I,a9 as B}from"./index-sj701c6h.js";import{z as K}from"./transition-LX_87-cn.js";import{L as M}from"./LoadingPage-CsjTuYab.js";import{A as R}from"./index-CSb7vC3W.js";const f=i.createContext(),c=({children:d})=>{const[l,n]=i.useState(!1),a=()=>{n(r=>!r)};return e.jsx(f.Provider,{value:{open:l,setOpen:n,toggleOpen:a},children:e.jsx("div",{className:"relative",children:d})})},U=({children:d})=>{const{open:l,setOpen:n,toggleOpen:a}=i.useContext(f);return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:a,children:d}),l&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)})]})},V=({align:d="right",width:l="48",contentClasses:n="py-1 bg-white",children:a})=>{const{open:r,setOpen:o}=i.useContext(f);let s="origin-top";d==="left"?s="ltr:origin-top-left rtl:origin-top-right start-0":d==="right"&&(s="ltr:origin-top-right rtl:origin-top-left end-0");let u="";return l==="48"&&(u="w-48"),e.jsx(e.Fragment,{children:e.jsx(K,{show:r,enter:"transition ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsx("div",{className:`absolute z-50 mt-2 rounded-md shadow-lg ${s} ${u}`,onClick:()=>o(!1),children:e.jsx("div",{className:"rounded-md ring-1 ring-black ring-opacity-5 "+n,children:a})})})})},q=({className:d="",children:l,...n})=>e.jsx(t,{...n,className:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none "+d,children:l});c.Trigger=U;c.Content=V;c.Link=q;function G(d){const{url:l}=g(),[n,a]=i.useState([]);return i.useEffect(()=>{(async()=>{try{const o=await fetch("/position");if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const s=await o.json();s&&Array.isArray(s.data)?a(s.data):console.error("API response does not contain a valid 'data' array:",s)}catch(o){console.error("Error fetching positions:",o)}})()},[]),e.jsx("div",{children:e.jsxs("ul",{className:"space-y-3",children:[e.jsx("li",{children:e.jsxs(t,{href:route("admin.dashboard.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.dashboard.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(m,{className:"w-5 h-5 mr-3"}),"Beranda"]})}),n.length>0?n.map(r=>e.jsx("li",{children:e.jsxs(t,{href:"/admin/official/"+r.slug,className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(l.includes(`/admin/official/${r.slug}`)?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(x,{className:"w-5 h-5 mr-3"}),e.jsx("span",{className:"max-w-[150px]",children:r.name})]})},r.slug)):e.jsx("li",{children:e.jsx("span",{className:"flex items-center p-2 text-gray-500",children:"Memuat data pejabat..."})}),e.jsx("li",{children:e.jsxs(t,{href:route("admin.aparatus.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.aparatus.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(x,{className:"w-5 h-5 mr-3"}),"Perangkat"]})}),e.jsx("li",{children:e.jsxs(t,{href:route("admin.organization.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.organization.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(C,{className:"w-5 h-5 mr-3"}),"Organisasi"]})}),e.jsx("li",{children:e.jsxs(t,{href:route("admin.training.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.training.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(L,{className:"w-5 h-5 mr-3"}),"Pelatihan"]})}),e.jsx("li",{children:e.jsxs(t,{href:route("admin.position.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.position.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(T,{className:"w-5 h-5 mr-3"}),"Jabatan"]})}),e.jsx("li",{children:e.jsxs(t,{href:route("admin.regency.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.regency.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(O,{className:"w-5 h-5 mr-3"}),"Kabupaten"]})}),e.jsx("li",{children:e.jsxs(t,{href:route("admin.district.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.district.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(z,{className:"w-5 h-5 mr-3"}),"Kecamatan"]})}),e.jsx("li",{children:e.jsxs(t,{href:route("admin.village.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.village.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(I,{className:"w-5 h-5 mr-3"}),"Desa"]})}),e.jsx("li",{children:e.jsxs(t,{href:route("admin.user.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.user.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(b,{className:"w-5 h-5 mr-3"}),"Pengguna"]})})]})})}function J(d){g().props.auth.user;const{url:l}=g(),[n,a]=i.useState([]);return i.useEffect(()=>{(async()=>{try{const o=await fetch("/position");if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const s=await o.json();s&&Array.isArray(s.data)?a(s.data):console.error("API response does not contain a valid 'data' array:",s)}catch(o){console.error("Error fetching positions:",o)}})()},[]),e.jsx("div",{children:e.jsxs("ul",{className:"space-y-3",children:[e.jsx("li",{children:e.jsxs(t,{href:route("regency.dashboard.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("regency.dashboard.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(m,{className:"w-5 h-5 mr-3"}),"Beranda"]})}),n.length>0?n.map(r=>e.jsx("li",{children:e.jsxs(t,{href:"/regency/official/"+r.slug,className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(l.includes(`/admin/official/${r.slug}`)?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(x,{className:"w-5 h-5 mr-3"}),e.jsx("span",{className:"max-w-[150px]",children:r.name})]})},r.slug)):e.jsx("li",{children:e.jsx("span",{className:"flex items-center p-2 text-gray-500",children:"Memuat data pejabat..."})}),e.jsx("li",{children:e.jsxs(t,{href:route("regency.aparatus.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("regency.aparatus.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(x,{className:"w-5 h-5 mr-3"}),"Perangkat"]})}),e.jsx("li",{children:e.jsxs(t,{href:route("regency.user.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("regency.user.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(b,{className:"w-5 h-5 mr-3"}),"Pengguna"]})})]})})}function X(d){const{url:l}=g();return e.jsx("div",{children:e.jsxs("ul",{className:"space-y-3",children:[e.jsx("li",{children:e.jsxs(t,{href:route("admin.dashboard.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.dashboard.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(m,{className:"w-5 h-5 mr-3"}),"Beranda"]})}),e.jsx("li",{children:e.jsxs(t,{href:route("admin.official.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.official.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(x,{className:"w-5 h-5 mr-3"}),"Pejabat"]})}),e.jsx("li",{children:e.jsxs(t,{href:route("admin.aparatus.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.aparatus.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(x,{className:"w-5 h-5 mr-3"}),"Perangkat"]})}),e.jsx("li",{children:e.jsxs(t,{href:route("admin.user.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.user.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(b,{className:"w-5 h-5 mr-3"}),"Pengguna"]})})]})})}function Y(d){const{url:l}=g(),[n,a]=i.useState([]);return i.useEffect(()=>{(async()=>{try{const o=await fetch("/position");if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const s=await o.json();s&&Array.isArray(s.data)?a(s.data):console.error("API response does not contain a valid 'data' array:",s)}catch(o){console.error("Error fetching positions:",o)}})()},[]),e.jsx("div",{children:e.jsxs("ul",{className:"space-y-3",children:[e.jsx("li",{children:e.jsxs(t,{href:route("village.dashboard.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.dashboard.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(m,{className:"w-5 h-5 mr-3"}),"Dashboard"]})}),n.length>0?n.map(r=>e.jsx("li",{children:e.jsxs(t,{href:"/village/official/"+r.slug,className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(l.includes(`/admin/official/${r.slug}`)?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(x,{className:"w-5 h-5 mr-3"}),e.jsx("span",{className:"max-w-[150px]",children:r.name})]})},r.slug)):e.jsx("li",{children:e.jsx("span",{className:"flex items-center p-2 text-gray-500",children:"Memuat data pejabat..."})}),e.jsx("li",{children:e.jsxs(t,{href:route("village.profile.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.profile.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(m,{className:"w-5 h-5 mr-3"}),"Desa"]})})]})})}function te({header:d,children:l,breadcrumb:n}){const a=g().props.auth.user,[r,o]=i.useState(!0),[s,u]=i.useState(!1),[y,P]=i.useState(!1),[k,v]=i.useState(!1),j=0,[w,E]=i.useState(!0);i.useEffect(()=>{const h=setTimeout(()=>{E(!1)},j);return()=>clearTimeout(h)},[j]),i.useEffect(()=>{const h=()=>{P(window.scrollY>300)};return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[]);const S=()=>{window.scrollTo({top:0,behavior:"smooth"})},A=()=>{document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),v(!1)):(document.documentElement.requestFullscreen(),v(!0))};return w?e.jsxs(R,{children:[w&&e.jsx(M,{})," "]}):e.jsxs("div",{className:"min-h-screen bg-gray-100 flex",children:[e.jsxs("div",{className:`fixed inset-y-0 left-0 w-64 bg-white shadow-lg transform transition-transform duration-300 ${r||s?"translate-x-0":"-translate-x-full"}`,children:[e.jsx("div",{className:"flex h-16 border-b-2 items-center px-4 bg-green-700",children:e.jsx(t,{href:"/",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:"/assets/images/KalBar.svg",alt:"Logo SIKADES",className:"h-10 w-10 mr-2"}),e.jsx("h1",{className:"font-bold text-4xl text-white",children:"SIKADES"})]})})}),e.jsxs("div",{className:"space-y-1 mt-2 px-3 max-h-[90vh] overflow-y-auto pb-12 text-sm font-light",children:[a.role==="admin"&&e.jsx(G,{}),a.role==="regency"&&e.jsx(J,{}),a.role==="district"&&e.jsx(X,{}),a.role==="village"&&e.jsx(Y,{})]})]}),e.jsxs("div",{className:`flex-1 min-h-screen transition-all ${r||s?"ml-64":"ml-0"}`,children:[e.jsx("nav",{className:"bg-white w-full shadow-sm",children:e.jsxs("div",{className:"mx-auto max-w-full px-4 sm:px-6 lg:px-8 flex h-16 justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:()=>o(!r),className:"bg-green-700 p-1 text-white rounded transition-colors duration-300",children:r||s?e.jsx(H,{className:"w-6 h-6"}):e.jsx(F,{className:"w-6 h-6"})})}),e.jsxs("div",{className:"hidden sm:flex sm:items-center gap-4",children:[e.jsx("button",{onClick:A,className:"text-gray-500 hover:text-green-700 transition-colors duration-300",title:k?"Keluar dari Layar Penuh":"Masuk ke Layar Penuh",children:e.jsx($,{className:"w-6 h-6"})}),e.jsx("div",{className:"relative",children:e.jsxs(c,{children:[e.jsx(c.Trigger,{children:e.jsx("span",{className:"inline-flex rounded-md shadow border",children:e.jsxs("button",{type:"button",className:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition duration-150 ease-in-out hover:text-green-700 focus:outline-none",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[a.avatar?e.jsx("img",{src:a.avatar,alt:a.name,className:"w-8 h-8 rounded-full"}):e.jsx("div",{className:"w-8 h-8 rounded bg-green-700 flex items-center justify-center",children:e.jsx(N,{className:"w-5 h-5 text-white"})}),e.jsx("span",{children:a.name})]}),e.jsx("svg",{className:"-me-0.5 ms-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})}),e.jsxs(c.Content,{children:[e.jsxs(c.Link,{href:route("profile.edit"),className:"flex items-center space-x-2",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsx("span",{children:"Profile"})]}),e.jsxs(c.Link,{href:route("logout"),method:"post",as:"button",className:"flex items-center space-x-2",children:[e.jsx(D,{className:"w-4 h-4"}),e.jsx("span",{children:"Log Out"})]})]})]})})]})]})}),e.jsx("div",{className:"pt-8 mx-8",children:d&&e.jsxs("header",{className:"bg-green-700 rounded shadow flex justify-between items-center",children:[e.jsx("div",{className:"max-w-full py-4 px-4 sm:px-4 lg:px-4 text-white",children:d}),e.jsx("div",{className:"py-4 px-4 sm:px-6 lg:px-8",children:e.jsx("nav",{className:"text-sm",children:e.jsx("ol",{className:"list-reset flex",children:n&&n.map((h,p)=>e.jsxs("li",{children:[e.jsx(t,{href:h.path,className:"text-white hover:text-white",children:h.name}),p<n.length-1&&e.jsx("span",{className:"mx-2",children:"/"})]},p))})})})]})}),e.jsx("main",{className:"transition-all p-4",children:l})]}),e.jsx("div",{className:"fixed bottom-8 right-8 z-50 flex flex-col gap-2",children:y&&e.jsx("button",{className:"bg-green-700 text-white p-1 rounded shadow-lg hover:bg-green-600 transition-all duration-300 transform hover:scale-110",onClick:S,children:e.jsx(B,{className:"w-6 h-6"})})})]})}export{te as A};
