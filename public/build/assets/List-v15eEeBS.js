import{r as a,j as n}from"./app-CVPon-in.js";import{X as H}from"./index.es-Cx28G3hx.js";import{i as h}from"./index-QcoFFRoy.js";import{u,w as U}from"./xlsx-5rFX-EW9.js";import I from"./Actions-CPYCzywh.js";import J from"./Procces-Bru-WDcn.js";import{m as p}from"./proxy-D2F4h_SH.js";import"./iconBase-DWCpscjx.js";import"./index-Bid0kMqz.js";function Y({officials:r,fetchData:w,loading:b,onEdit:k,onAccept:j,onReject:S,onPrint:v}){const[i,P]=a.useState(""),[d,N]=a.useState(""),[l,m]=a.useState((r==null?void 0:r.current_page)||1),[c,y]=a.useState((r==null?void 0:r.per_page)||10),[g,C]=a.useState("id"),[x,D]=a.useState("asc"),E=["SD/MI","SMP/MTS","SMA/SMK/MA","D1","D2","D3","D4","S1","S2","S3"];a.useEffect(()=>{const e=setTimeout(()=>{w({page:l,perPage:c,search:i,filters:d,sortField:g,sortDirection:x})},300);return()=>clearTimeout(e)},[l,c,i,d,g,x]);const F=e=>{m(e)},R=(e,t)=>{y(e),m(t)},T=(e,t)=>{const o=["asc","desc"].includes(t)?t:"asc",A=["id","nama_lengkap","nik","niad","pendidikan","created_at","updated_at"].includes(e.selector)?e.selector:"id";C(A),D(o)},_=()=>{const e=JSON.stringify((r==null?void 0:r.data)||[],null,2),t=new Blob([e],{type:"application/json"}),s=URL.createObjectURL(t),o=document.createElement("a");o.href=s,o.download="officials.json",o.click(),URL.revokeObjectURL(s)},O=()=>{const e=u.json_to_sheet((r==null?void 0:r.data)||[]),t=u.book_new();u.book_append_sheet(t,e,"officials"),U(t,"officials.xlsx")},L=[{name:"No",cell:(e,t)=>(l-1)*c+t+1,width:"70px"},{name:"Nama Lengkap",selector:e=>e.nama_lengkap||"-",sortable:!0,width:"200px"},{name:"NIK",selector:e=>e.nik||"-",sortable:!0},{name:"NIAD",selector:e=>e.niad||"-",sortable:!0},{name:"Pendidikan",selector:e=>e.pendidikan||"-",sortable:!0},{name:"Status",selector:e=>e.status,sortable:!0,cell:e=>n.jsx(M,{role:e.status})},{name:"Proses",cell:e=>n.jsx(J,{row:e,onAccept:j,onReject:S}),ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px"},{name:"Aksi",cell:e=>n.jsx(I,{row:e,onEdit:k,onPrint:v}),ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"100px"}],M=({role:e})=>{let t="",s="";switch(e){case"tolak":t="bg-red-500",s="Tolak";break;case"daftar":t="bg-blue-500",s="Daftar";break;case"validasi":t="bg-green-500",s="Terima";break;case"proses":t="bg-yellow-500",s="Proses";break;default:t="bg-gray-500",s="Tidak Diketahui"}return n.jsx("span",{className:`px-2 py-0 text-sm text-white rounded ${t}`,children:s})};return n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg border border-gray-300",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[n.jsx(p.input,{type:"text",placeholder:"Cari nama...",value:i,onChange:e=>P(e.target.value),className:"border p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-full md:w-auto",whileHover:{scale:1.02},whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300}}),n.jsxs("select",{name:"education",value:d,onChange:e=>N(e.target.value),className:"border p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-full md:w-auto",children:[n.jsx("option",{value:"",children:"Semua Pendidikan"}),E.map((e,t)=>n.jsx("option",{value:e,children:e},t))]}),n.jsxs("div",{className:"flex gap-2 w-full md:w-auto justify-end",children:[n.jsxs(p.button,{onClick:_,className:"bg-blue-500 text-white px-4 py-2 rounded-lg flex items-center",whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300},children:[n.jsx(h,{className:"mr-2"})," Export JSON"]}),n.jsxs(p.button,{onClick:O,className:"bg-green-500 text-white px-4 py-2 rounded-lg flex items-center",whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300},children:[n.jsx(h,{className:"mr-2"})," Export Excel"]})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsx(H,{columns:L,data:(r==null?void 0:r.data)||[],pagination:!0,paginationServer:!0,paginationTotalRows:(r==null?void 0:r.total)||0,paginationDefaultPage:l,onChangePage:F,onChangeRowsPerPage:R,onSort:T,highlightOnHover:!0,pointerOnHover:!0,striped:!0,responsive:!0,progressPending:b})})]})}export{Y as default};
