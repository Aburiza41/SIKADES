import{r as d,a as b,j as e}from"./app-EIz8nQ5Q.js";import{C,a as k}from"./index-CuuF2Vom.js";import{b as F}from"./index-D-VSm5dn.js";import{m as n}from"./proxy-Br4hXrCY.js";import"./iconBase-CIswt8ol.js";function M({tempat_kerja:i,setTempatKerja:l}){const[h,y]=d.useState([]),[x,p]=d.useState([]),[f,g]=d.useState([]),[v,u]=d.useState([]),m={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,when:"beforeChildren",staggerChildren:.1}}},t={hidden:{opacity:0,x:-10},visible:{opacity:1,x:0,transition:{duration:.3}},focus:{scale:1.02,boxShadow:"0 0 0 2px rgba(59, 130, 246, 0.5)"}},c={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3}}};d.useEffect(()=>{b.get("/village/bps/wilayah").then(a=>y(a.data)).catch(a=>console.error("Error fetching provinces:",a))},[]);const _=a=>{const o=a.target.value,s=h.find(r=>r.kode_bps===a.target.value);l({...i,province_code:(s==null?void 0:s.kode_bps)||"",province_name:(s==null?void 0:s.nama_bps)||"",regency_code:"",regency_name:"",district_code:"",district_name:"",village_code:"",village_name:""}),o?b.get(`/village/bps/wilayah/kabupaten/${o}`).then(r=>p(r.data)).catch(r=>console.error("Error fetching regencies:",r)):p([]),g([]),u([])},w=a=>{const o=a.target.value,s=x.find(r=>r.kode_bps===a.target.value);l({...i,regency_code:(s==null?void 0:s.kode_bps)||"",regency_name:(s==null?void 0:s.nama_bps)||"",district_code:"",district_name:"",village_code:"",village_name:""}),o?b.get(`/village/bps/wilayah/kecamatan/${o}`).then(r=>g(r.data)).catch(r=>console.error("Error fetching districts:",r)):g([]),u([])},N=a=>{const o=a.target.value,s=f.find(r=>r.kode_bps===a.target.value);l({...i,district_code:(s==null?void 0:s.kode_bps)||"",district_name:(s==null?void 0:s.nama_bps)||"",village_code:"",village_name:""}),o?b.get(`/village/bps/wilayah/desa/${o}`).then(r=>u(r.data)).catch(r=>console.error("Error fetching villages:",r)):u([])},j=a=>{const o=v.find(s=>s.kode_bps===a.target.value);l({...i,village_code:(o==null?void 0:o.kode_bps)||"",village_name:(o==null?void 0:o.nama_bps)||""})};return e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white w-full p-6 shadow-lg rounded-xl mt-8 border border-gray-100",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4 pb-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(n.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:.5},children:e.jsx(C,{className:"text-3xl text-blue-500"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"B. TEMPAT BEKERJA"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1 flex items-center",children:[e.jsx(F,{className:"mr-1 text-blue-500"}),"Formulir ini digunakan untuk mengisi tempat kerja pejabat desa."]})]})]})}),e.jsx(n.div,{className:"grid grid-cols-1 gap-4 mb-6",variants:m,initial:"hidden",animate:"visible",children:e.jsxs(n.div,{variants:c,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[e.jsx(k,{className:"mr-2 text-blue-500"})," Alamat Lengkap"]}),e.jsx(n.textarea,{value:i.alamat,onChange:a=>l({...i,alamat:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Contoh: Jl. Merdeka No. 123",required:!0,whileFocus:"focus",variants:t,rows:3})]})}),e.jsxs(n.div,{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",variants:m,initial:"hidden",animate:"visible",children:[e.jsxs(n.div,{variants:c,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"RT"}),e.jsx(n.input,{type:"number",value:i.rt,onChange:a=>l({...i,rt:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Contoh: 001",whileFocus:"focus",variants:t})]}),e.jsxs(n.div,{variants:c,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"RW"}),e.jsx(n.input,{type:"number",value:i.rw,onChange:a=>l({...i,rw:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Contoh: 002",whileFocus:"focus",variants:t})]}),e.jsxs(n.div,{variants:c,className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kode Pos"}),e.jsx(n.input,{type:"number",value:i.postal,onChange:a=>l({...i,postal:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Contoh: 12345",whileFocus:"focus",variants:t})]})]}),e.jsxs(n.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",variants:m,initial:"hidden",animate:"visible",children:[e.jsxs(n.div,{variants:c,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Provinsi"}),e.jsxs(n.select,{value:i.province_code,onChange:_,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0,whileFocus:"focus",variants:t,children:[e.jsx("option",{value:"",children:"Pilih Provinsi"}),h.map(a=>e.jsx("option",{value:a.kode_bps,children:a.nama_bps},a.kode_bps))]})]}),e.jsxs(n.div,{variants:c,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kabupaten/Kota"}),e.jsxs(n.select,{value:i.regency_code,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0,disabled:!i.province_code,whileFocus:"focus",variants:t,children:[e.jsx("option",{value:"",children:"Pilih Kabupaten"}),x.map(a=>e.jsx("option",{value:a.kode_bps,children:a.nama_bps},a.kode_bps))]})]}),e.jsxs(n.div,{variants:c,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kecamatan"}),e.jsxs(n.select,{value:i.district_code,onChange:N,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0,disabled:!i.regency_code,whileFocus:"focus",variants:t,children:[e.jsx("option",{value:"",children:"Pilih Kecamatan"}),f.map(a=>e.jsx("option",{value:a.kode_bps,children:a.nama_bps},a.kode_bps))]})]}),e.jsxs(n.div,{variants:c,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Desa/Kelurahan"}),e.jsxs(n.select,{value:i.village_code,onChange:j,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0,disabled:!i.district_code,whileFocus:"focus",variants:t,children:[e.jsx("option",{value:"",children:"Pilih Desa"}),v.map(a=>e.jsx("option",{value:a.kode_bps,children:a.nama_bps},a.kode_bps))]})]})]})]})})}export{M as default};
