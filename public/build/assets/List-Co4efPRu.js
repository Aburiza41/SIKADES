import{j as e}from"./app-cnLqKnWv.js";import{I as h,J as F,K as _,G as R,L as D,M,N as O}from"./index-sj701c6h.js";import{u as d,w as U}from"./xlsx-5rFX-EW9.js";import"./sweetalert2.esm.all-LHqzTR4y.js";import{m as i}from"./proxy-0toHJmZX.js";import"./iconBase-CMF4PMHw.js";function q({positions:s,fetchData:I,loading:u,onEdit:g,onView:j,onDelete:y,handleSort:w,sortField:f,sortDirection:N,filterText:b,setFilterText:k,currentPage:r,rowsPerPage:m,handlePageChange:v,handleRowsPerPageChange:C}){var o;(o=document.querySelector('meta[name="csrf-token"]'))!=null&&o.getAttribute("content");const S=()=>{const t=JSON.stringify(s.data,null,2),n=new Blob([t],{type:"application/json"}),a=URL.createObjectURL(n),x=document.createElement("a");x.href=a,x.download="positions.json",x.click(),URL.revokeObjectURL(a)},L=()=>{const t=d.json_to_sheet(s.data.map(a=>{var x;return{Nama:a.name,Slug:a.slug,Deskripsi:a.description,Level:a.level,Min:a.min,Max:a.max,"Parent ID":a.parent_id||"-","Parent Name":((x=a.parent)==null?void 0:x.name)||"-",Keterangan:a.keterangan||"-"}})),n=d.book_new();d.book_append_sheet(n,t,"positions"),U(n,"positions.xlsx")},p=t=>{v(t)},E=t=>{C(t)},l=t=>{w(t)},c=t=>f!==t?e.jsx(D,{className:"ml-1"}):N==="asc"?e.jsx(M,{className:"ml-1"}):e.jsx(O,{className:"ml-1"});return e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg border border-gray-300",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[e.jsx("div",{className:"flex flex-col md:flex-row gap-4 w-full md:w-auto",children:e.jsx(i.input,{type:"text",placeholder:"Cari nama, slug, atau deskripsi...",value:b,onChange:t=>k(t.target.value),className:"border p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-full md:w-auto",whileHover:{scale:1.02},whileFocus:{scale:1.02},transition:{type:"spring",stiffness:300}})}),e.jsxs("div",{className:"flex gap-2 w-full md:w-auto justify-end",children:[e.jsxs(i.button,{onClick:S,className:"bg-blue-500 text-white px-4 py-2 rounded-lg flex items-center",whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300},children:[e.jsx(h,{className:"mr-2"})," Export JSON"]}),e.jsxs(i.button,{onClick:L,className:"bg-green-500 text-white px-4 py-2 rounded-lg flex items-center",whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300},children:[e.jsx(h,{className:"mr-2"})," Export Excel"]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-300",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"No"}),e.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>l("name"),children:["Nama ",c("name")]}),e.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>l("slug"),children:["Slug ",c("slug")]}),e.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>l("description"),children:["Deskripsi ",c("description")]}),e.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>l("level"),children:["Level ",c("level")]}),e.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>l("min"),children:["Min ",c("min")]}),e.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>l("max"),children:["Max ",c("max")]}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parent"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"px-6 py-4 text-center text-sm text-gray-500",children:"Loading..."})}):((s==null?void 0:s.data)||[]).length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"px-6 py-4 text-center text-sm text-gray-500",children:"Tidak ada data"})}):((s==null?void 0:s.data)||[]).map((t,n)=>{var a;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(r-1)*m+n+1}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.name||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.slug||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.description||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.level||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.min||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.max||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((a=t.parent)==null?void 0:a.name)||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>j(t),className:"text-blue-600 hover:text-blue-900",children:e.jsx(F,{})}),e.jsx("button",{onClick:()=>g(t),className:"text-yellow-600 hover:text-yellow-900",children:e.jsx(_,{})}),e.jsx("button",{onClick:()=>y(t.id),className:"text-red-600 hover:text-red-900",children:e.jsx(R,{})})]})})]},t.id)})})]})}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("label",{className:"mr-2",children:"Rows per page:"}),e.jsxs("select",{value:m,onChange:t=>E(parseInt(t.target.value)),className:"border p-1 rounded",children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>p(r-1),disabled:r===1,className:"px-3 py-1 border rounded mr-2 disabled:opacity-50",children:"Previous"}),e.jsxs("span",{className:"mx-2",children:["Page ",r," of ",(s==null?void 0:s.last_page)||1]}),e.jsx("button",{onClick:()=>p(r+1),disabled:r===((s==null?void 0:s.last_page)||1),className:"px-3 py-1 border rounded ml-2 disabled:opacity-50",children:"Next"})]})]})]})}export{q as default};
