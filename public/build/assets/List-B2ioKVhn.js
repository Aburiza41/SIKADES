import{r as d,j as e}from"./app-EIz8nQ5Q.js";import{T as J,I as k,n as K,o as z,m as q}from"./index-CuuF2Vom.js";import{u as y,w as G}from"./xlsx-5rFX-EW9.js";import Q from"./Actions-BmbF7LX5.js";import V from"./Procces-Dza-gu2k.js";import{H as W,a as X,b as Y}from"./index-Yda8cguo.js";import{m as j}from"./proxy-Br4hXrCY.js";import"./iconBase-CIswt8ol.js";import"./index-BTPrMAX7.js";function le({officials:r,fetchData:S,loading:f,onEdit:C,onAccept:D,onReject:F,onPrint:E,onView:M}){var v;console.log(r);const[u,T]=d.useState(""),[h,_]=d.useState(""),[o,w]=d.useState((r==null?void 0:r.current_page)||1),[l,H]=d.useState((r==null?void 0:r.per_page)||10),[x,P]=d.useState("id"),[m,N]=d.useState("asc"),R=["SD/MI","SMP/MTS","SMA/SMK/MA","D1","D2","D3","D4","S1","S2","S3"];d.useEffect(()=>{S({page:o,perPage:l,search:u,filters:h,sortField:x,sortDirection:m})},[o,l,u,h,x,m]);const L=t=>w(t),O=t=>{H(parseInt(t.target.value)),w(1)},A=t=>{x===t?N(m==="asc"?"desc":"asc"):(P(t),N("asc"))},I=()=>{const t=JSON.stringify((r==null?void 0:r.data)||[],null,2),s=new Blob([t],{type:"application/json"}),a=URL.createObjectURL(s),c=document.createElement("a");c.href=a,c.download="officials.json",c.click(),URL.revokeObjectURL(a)},U=()=>{const t=y.json_to_sheet((r==null?void 0:r.data)||[]),s=y.book_new();y.book_append_sheet(s,t,"officials"),G(s,"officials.xlsx")},$=({role:t})=>{let s="",a="";switch(t){case"tolak":s="bg-red-500",a="Tolak";break;case"daftar":s="bg-blue-500",a="Daftar";break;case"validasi":s="bg-green-500",a="Terima";break;case"proses":s="bg-yellow-500",a="Proses";break;default:s="bg-gray-500",a="Tidak Diketahui"}return e.jsx("span",{className:`px-2 py-1 text-xs text-white rounded-full ${s}`,children:a})},p=(t,s)=>{const a=x===t;return e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>A(t),children:e.jsxs("div",{className:"flex items-center",children:[s,a?m==="asc"?e.jsx(K,{className:"ml-1"}):e.jsx(z,{className:"ml-1"}):e.jsx(q,{className:"ml-1 text-gray-400"})]})})},B=({currentPage:t,lastPage:s,handlePageChange:a})=>{const c=()=>{const n=[],i=Math.max(1,t-2),b=Math.min(s,t+2);i>1&&(n.push(1),i>2&&n.push("..."));for(let g=i;g<=b;g++)n.push(g);return b<s&&(b<s-1&&n.push("..."),n.push(s)),n};return e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>a(t-1),disabled:t===1,className:`p-2 rounded-md border ${t===1?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:e.jsx(W,{className:"w-4 h-4"})}),c().map((n,i)=>e.jsx("button",{onClick:()=>typeof n=="number"&&a(n),className:`p-2 min-w-[36px] rounded-md border text-sm ${n===t?"border-green-500 bg-green-50 text-green-600 font-medium":n==="..."?"border-transparent text-gray-500 cursor-default":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,disabled:n==="...",children:n==="..."?e.jsx(X,{}):n},i)),e.jsx("button",{onClick:()=>a(t+1),disabled:t===s,className:`p-2 rounded-md border ${t===s?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:e.jsx(Y,{className:"w-4 h-4"})})]})})};return e.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 w-full",children:[e.jsxs("div",{className:"relative w-full md:w-64",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(J,{className:"text-gray-400"})}),e.jsx(j.input,{type:"text",placeholder:"Cari nama...",value:u,onChange:t=>T(t.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",whileHover:{scale:1.01},transition:{type:"spring",stiffness:300}})]}),e.jsxs("select",{value:h,onChange:t=>_(t.target.value),className:"block w-full md:w-auto pl-3 pr-10 py-2 text-base border border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 rounded-md",children:[e.jsx("option",{value:"",children:"Semua Pendidikan"}),R.map((t,s)=>e.jsx("option",{value:t,children:t},s))]})]}),e.jsxs("div",{className:"flex gap-2 w-full md:w-auto justify-end",children:[e.jsxs(j.button,{onClick:I,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none",whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300},children:[e.jsx(k,{className:"mr-2"})," JSON"]}),e.jsxs(j.button,{onClick:U,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none",whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300},children:[e.jsx(k,{className:"mr-2"})," Excel"]})]})]}),e.jsx("div",{className:"overflow-x-auto w-full px-6 py-4",children:e.jsxs("table",{className:"w-full divide-x divide-gray-200 text-sm border",children:[e.jsx("thead",{className:"bg-gray-50 border",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"No"}),p("nama_lengkap","Nama Lengkap"),p("nik","NIK"),p("niad","NIAD"),p("pendidikan","Pendidikan"),e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Proses"}),e.jsx("th",{className:"border px-2 py-1 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),e.jsx("tbody",{className:"bg-white divide-x divide-gray-200 border",children:f?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"border px-2 py-2 text-center text-sm text-gray-500",children:"Memuat data..."})}):((v=r==null?void 0:r.data)==null?void 0:v.length)>0?r.data.map((t,s)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"border px-2 py-2 whitespace-nowrap text-sm text-gray-500",children:(o-1)*l+s+1}),e.jsx("td",{className:"border px-2 py-2 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.nama_lengkap||"-"})}),e.jsx("td",{className:"border px-2 py-2 whitespace-nowrap text-sm text-gray-500",children:t.nik||"-"}),e.jsx("td",{className:"border px-2 py-2 whitespace-nowrap text-sm text-gray-500",children:t.niad||"-"}),e.jsx("td",{className:"border px-2 py-2 whitespace-nowrap text-sm text-gray-500",children:t.identities.pendidikan||"-"}),e.jsx("td",{className:"border px-2 py-2 whitespace-nowrap text-sm text-gray-500",children:e.jsx($,{role:t.status})}),e.jsx("td",{className:"border px-2 py-2 whitespace-nowrap text-sm text-gray-500",children:e.jsx(V,{row:t,onAccept:D,onReject:F})}),e.jsx("td",{className:"border px-2 py-2 whitespace-nowrap text-right text-sm font-medium",children:e.jsx(Q,{row:t,onEdit:C,onPrint:E,onView:M})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"border px-2 py-2 text-center text-sm text-gray-500",children:"Tidak ada data yang ditemukan"})})})]})}),e.jsxs("div",{className:"px-6 py-3 border-t border-gray-200 flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-sm text-gray-700 mr-2",children:"Baris per halaman:"}),e.jsxs("select",{value:l,onChange:O,className:"block w-20 pl-3 pr-10 py-1 text-base border border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 rounded-md",children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]})]}),e.jsxs("div",{className:"text-sm text-gray-700",children:["Menampilkan ",e.jsx("span",{className:"font-medium",children:(o-1)*l+1})," sampai"," ",e.jsx("span",{className:"font-medium",children:Math.min(o*l,(r==null?void 0:r.total)||0)})," ","dari ",e.jsx("span",{className:"font-medium",children:(r==null?void 0:r.total)||0})," data"]}),e.jsx(B,{currentPage:o,lastPage:(r==null?void 0:r.last_page)||1,handlePageChange:L})]})]})}export{le as default};
