import{r as x,j as e}from"./app-EIz8nQ5Q.js";import{S as N}from"./react-select.esm-Q-Xj6kKm.js";import{b as o,j as w,D as k,E as F,G as S}from"./index-CuuF2Vom.js";import{b as C}from"./index-D-VSm5dn.js";import{m as r}from"./proxy-Br4hXrCY.js";import"./defineProperty-DRmM3rRU.js";import"./typeof-QjJsDpFa.js";import"./index-B8EcdQ8U.js";import"./iconBase-CIswt8ol.js";function B({position:c,positions:d,setOfficialPosition:s,officialPosition:t}){const[b,m]=x.useState(null),u={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,when:"beforeChildren",staggerChildren:.1}}},n={hidden:{opacity:0,x:-10},visible:{opacity:1,x:0,transition:{duration:.3}},focus:{scale:1.02,boxShadow:"0 0 0 2px rgba(59, 130, 246, 0.5)"}},i={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3}}},g=d.map(a=>({value:a.id,label:a.name,slug:a.slug}));x.useEffect(()=>{if(c&&d.length>0){const a=d.find(l=>l.slug===c);if(a){const l={value:a.id,label:a.name,slug:a.slug};m(l),s({...t,namaJabatan:a.name,jabatanId:a.id})}}},[c,d]);const{penetap:p,nomorSk:h,tanggalSk:f,period:j,tmtJabatan:v}=t;return e.jsx(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white w-full p-6 shadow-lg rounded-xl mt-8 border border-gray-100",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4 pb-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(r.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:.5},children:e.jsx(o,{className:"text-3xl text-blue-500"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"C. JABATAN SAAT INI"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1 flex items-center",children:[e.jsx(C,{className:"mr-1 text-blue-500"}),"Formulir ini digunakan untuk mengisi jabatan pejabat desa."]})]})]})}),e.jsxs(r.div,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",variants:u,initial:"hidden",animate:"visible",children:[e.jsxs(r.div,{className:"col-span-2 grid grid-cols-1 gap-4 mb-6",variants:u,initial:"hidden",animate:"visible",children:[e.jsxs(r.div,{variants:i,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[e.jsx(o,{className:"mr-2 text-blue-500"})," 1. File"]}),e.jsx("input",{type:"file",onChange:a=>{if(a.target.files&&a.target.files.length>0){const l=a.target.files[0];if(!["image/jpeg","image/png","image/gif","application/pdf"].includes(l.type)){alert("Hanya file gambar (JPEG, PNG, GIF) atau PDF yang diizinkan"),a.target.value="";return}const y=5*1024*1024;if(l.size>y){alert("Ukuran file maksimal 5MB"),a.target.value="";return}s({...t,file:l})}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",accept:"image/*,.pdf",required:!0})]}),t.file&&e.jsxs("div",{className:"mt-2 flex flex-col items-start",children:[t.file.type.startsWith("image/")?e.jsx("img",{src:URL.createObjectURL(t.file),alt:"Preview",className:"h-20 object-cover rounded mb-2"}):e.jsxs("div",{className:"flex items-center p-3 bg-gray-100 rounded-lg",children:[e.jsx(w,{className:"text-red-500 mr-2 text-xl"}),e.jsx("span",{children:t.file.name})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[t.file.name," â€¢ ",(t.file.size/1024/1024).toFixed(2)," MB"]}),e.jsxs("button",{type:"button",onClick:()=>{s({...t,file:null})},className:"mt-2 text-sm text-red-600 hover:text-red-800",children:[e.jsx(k,{className:"inline mr-1"})," Hapus File"]})]})]}),e.jsxs(r.div,{variants:i,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[e.jsx(o,{className:"mr-2 text-blue-500"})," Pejabat yang Menetapkan"]}),e.jsx(r.input,{type:"text",value:p||"",onChange:a=>s({...t,penetap:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Pejabat yang Menetapkan",whileFocus:"focus",variants:n})]}),e.jsxs(r.div,{variants:i,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[e.jsx(F,{className:"mr-2 text-blue-500"})," SK Pelantikan"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r.input,{type:"text",value:h||"",onChange:a=>s({...t,nomorSk:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Nomor SK",whileFocus:"focus",variants:n}),e.jsx(r.input,{type:"date",value:f||"",onChange:a=>s({...t,tanggalSk:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",whileFocus:"focus",variants:n})]})]}),e.jsxs(r.div,{variants:i,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[e.jsx(o,{className:"mr-2 text-blue-500"})," Nama Jabatan"]}),e.jsx(r.div,{whileFocus:"focus",variants:n,children:e.jsx(N,{options:g,value:b,onChange:a=>{m(a),s({...t,namaJabatan:a.label,jabatanId:a.value})},placeholder:"Pilih Jabatan",isClearable:!0,isSearchable:!0,className:"mt-0",styles:{control:a=>({...a,minHeight:"42px",borderColor:"#d1d5db","&:hover":{borderColor:"#d1d5db"},boxShadow:"none","&:focus-within":{boxShadow:"0 0 0 2px rgba(59, 130, 246, 0.5)",borderColor:"transparent"}})}})})]}),e.jsxs(r.div,{variants:i,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Period ke-"}),e.jsx(r.input,{type:"text",value:j||"",onChange:a=>s({...t,period:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Period ke-",whileFocus:"focus",variants:n})]}),e.jsxs(r.div,{variants:i,children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[e.jsx(S,{className:"mr-2 text-blue-500"})," TMT Jabatan"]}),e.jsx(r.input,{type:"date",value:v||"",onChange:a=>s({...t,tmtJabatan:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",whileFocus:"focus",variants:n})]})]})]})})}export{B as default};
