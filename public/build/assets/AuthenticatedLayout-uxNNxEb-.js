import{r as i,j as e,$ as r,K as x}from"./app-CVPon-in.js";import{a as g,H as h,b as H,c as F,d as b,e as E,f as T,g as A,h as N,i as O}from"./index-CQ3QYBQr.js";import{a as z,j as D}from"./index-QcoFFRoy.js";import{z as B}from"./transition-CxQxzVBW.js";import{L as $}from"./LoadingPage-D5KRQg6W.js";import{A as I}from"./index-Bz8wJd-C.js";const f=i.createContext(),l=({children:t})=>{const[s,o]=i.useState(!1),n=()=>{o(a=>!a)};return e.jsx(f.Provider,{value:{open:s,setOpen:o,toggleOpen:n},children:e.jsx("div",{className:"relative",children:t})})},K=({children:t})=>{const{open:s,setOpen:o,toggleOpen:n}=i.useContext(f);return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:n,children:t}),s&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)})]})},R=({align:t="right",width:s="48",contentClasses:o="py-1 bg-white",children:n})=>{const{open:a,setOpen:m}=i.useContext(f);let d="origin-top";t==="left"?d="ltr:origin-top-left rtl:origin-top-right start-0":t==="right"&&(d="ltr:origin-top-right rtl:origin-top-left end-0");let u="";return s==="48"&&(u="w-48"),e.jsx(e.Fragment,{children:e.jsx(B,{show:a,enter:"transition ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsx("div",{className:`absolute z-50 mt-2 rounded-md shadow-lg ${d} ${u}`,onClick:()=>m(!1),children:e.jsx("div",{className:"rounded-md ring-1 ring-black ring-opacity-5 "+o,children:n})})})})},U=({className:t="",children:s,...o})=>e.jsx(r,{...o,className:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none "+t,children:s});l.Trigger=K;l.Content=R;l.Link=U;function M(t){const{url:s}=x();return e.jsx("div",{children:e.jsxs("ul",{className:"space-y-3",children:[e.jsx("li",{children:e.jsxs(r,{href:route("admin.dashboard.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.dashboard.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(g,{className:"w-5 h-5 mr-3"}),"Beranda"]})}),e.jsx("li",{children:e.jsxs(r,{href:route("admin.official.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.official.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(h,{className:"w-5 h-5 mr-3"}),"Pejabat"]})}),e.jsx("li",{children:e.jsxs(r,{href:route("admin.aparatus.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.aparatus.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(h,{className:"w-5 h-5 mr-3"}),"Perangkat"]})}),e.jsx("li",{children:e.jsxs(r,{href:route("admin.organization.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.organization.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(H,{className:"w-5 h-5 mr-3"}),"Organisasi"]})}),e.jsx("li",{children:e.jsxs(r,{href:route("admin.training.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.training.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(F,{className:"w-5 h-5 mr-3"}),"Pelatihan"]})}),e.jsx("li",{children:e.jsxs(r,{href:route("admin.user.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.user.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(b,{className:"w-5 h-5 mr-3"}),"Pengguna"]})})]})})}function V(t){x().props.auth.user;const{url:s}=x();return e.jsx("div",{children:e.jsxs("ul",{className:"space-y-3",children:[e.jsx("li",{children:e.jsxs(r,{href:route("regency.dashboard.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("regency.dashboard.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(g,{className:"w-5 h-5 mr-3"}),"Beranda"]})}),e.jsx("li",{children:e.jsxs(r,{href:route("regency.official.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("regency.official.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(h,{className:"w-5 h-5 mr-3"}),"Pejabat"]})}),e.jsx("li",{children:e.jsxs(r,{href:route("regency.aparatus.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("regency.aparatus.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(h,{className:"w-5 h-5 mr-3"}),"Perangkat"]})}),e.jsx("li",{children:e.jsxs(r,{href:route("regency.user.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("regency.user.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(b,{className:"w-5 h-5 mr-3"}),"Pengguna"]})})]})})}function q(t){const{url:s}=x();return e.jsx("div",{children:e.jsxs("ul",{className:"space-y-3",children:[e.jsx("li",{children:e.jsxs(r,{href:route("admin.dashboard.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.dashboard.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(g,{className:"w-5 h-5 mr-3"}),"Beranda"]})}),e.jsx("li",{children:e.jsxs(r,{href:route("admin.official.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.official.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(h,{className:"w-5 h-5 mr-3"}),"Pejabat"]})}),e.jsx("li",{children:e.jsxs(r,{href:route("admin.aparatus.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.aparatus.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(h,{className:"w-5 h-5 mr-3"}),"Perangkat"]})}),e.jsx("li",{children:e.jsxs(r,{href:route("admin.user.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.user.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(b,{className:"w-5 h-5 mr-3"}),"Pengguna"]})})]})})}function G(t){const{url:s}=x();return e.jsx("div",{children:e.jsxs("ul",{className:"space-y-3",children:[e.jsx("li",{children:e.jsxs(r,{href:route("village.dashboard.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.dashboard.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(g,{className:"w-5 h-5 mr-3"}),"Beranda"]})}),e.jsx("li",{children:e.jsxs(r,{href:route("village.official.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.official.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(h,{className:"w-5 h-5 mr-3"}),"Pejabat"]})}),e.jsx("li",{children:e.jsxs(r,{href:route("village.profile.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.profile.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(z,{className:"w-5 h-5 mr-3"}),"Desa"]})})]})})}function _({header:t,children:s,breadcrumb:o}){const n=x().props.auth.user,[a,m]=i.useState(!0),[d,u]=i.useState(!1),[y,k]=i.useState(!1),[L,v]=i.useState(!1),j=2500,[w,C]=i.useState(!0);i.useEffect(()=>{const c=setTimeout(()=>{C(!1)},j);return()=>clearTimeout(c)},[j]),i.useEffect(()=>{const c=()=>{k(window.scrollY>300)};return window.addEventListener("scroll",c),()=>window.removeEventListener("scroll",c)},[]);const P=()=>{window.scrollTo({top:0,behavior:"smooth"})},S=()=>{document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),v(!1)):(document.documentElement.requestFullscreen(),v(!0))};return w?e.jsxs(I,{children:[w&&e.jsx($,{})," "]}):e.jsxs("div",{className:"min-h-screen bg-gray-100 flex",children:[e.jsxs("div",{className:`fixed inset-y-0 left-0 w-64 bg-white shadow-lg transform transition-transform duration-300 ${a||d?"translate-x-0":"-translate-x-full"}`,children:[e.jsx("div",{className:"flex h-16 border-b-2 items-center px-4 bg-green-700",children:e.jsx(r,{href:"/",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:"/assets/images/KalBar.svg",alt:"Logo SIKADES",className:"h-10 w-10 mr-2"}),e.jsx("h1",{className:"font-bold text-4xl text-white",children:"SIKADES"})]})})}),e.jsxs("div",{className:"space-y-2 mt-4 px-3",children:[n.role==="admin"&&e.jsx(M,{}),n.role==="regency"&&e.jsx(V,{}),n.role==="district"&&e.jsx(q,{}),n.role==="village"&&e.jsx(G,{})]})]}),e.jsxs("div",{className:`flex-1 min-h-screen transition-all ${a||d?"ml-64":"ml-0"}`,children:[e.jsx("nav",{className:"bg-white w-full shadow-sm",children:e.jsxs("div",{className:"mx-auto max-w-full px-4 sm:px-6 lg:px-8 flex h-16 justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:()=>m(!a),className:"bg-green-700 p-1 text-white rounded transition-colors duration-300",children:a||d?e.jsx(E,{className:"w-6 h-6"}):e.jsx(T,{className:"w-6 h-6"})})}),e.jsxs("div",{className:"hidden sm:flex sm:items-center gap-4",children:[e.jsx("button",{onClick:S,className:"text-gray-500 hover:text-green-700 transition-colors duration-300",title:L?"Keluar dari Layar Penuh":"Masuk ke Layar Penuh",children:e.jsx(A,{className:"w-6 h-6"})}),e.jsx("div",{className:"relative",children:e.jsxs(l,{children:[e.jsx(l.Trigger,{children:e.jsx("span",{className:"inline-flex rounded-md shadow border",children:e.jsxs("button",{type:"button",className:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition duration-150 ease-in-out hover:text-green-700 focus:outline-none",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[n.avatar?e.jsx("img",{src:n.avatar,alt:n.name,className:"w-8 h-8 rounded-full"}):e.jsx("div",{className:"w-8 h-8 rounded bg-green-700 flex items-center justify-center",children:e.jsx(N,{className:"w-5 h-5 text-white"})}),e.jsx("span",{children:n.name})]}),e.jsx("svg",{className:"-me-0.5 ms-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})}),e.jsxs(l.Content,{children:[e.jsxs(l.Link,{href:route("profile.edit"),className:"flex items-center space-x-2",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsx("span",{children:"Profile"})]}),e.jsxs(l.Link,{href:route("logout"),method:"post",as:"button",className:"flex items-center space-x-2",children:[e.jsx(O,{className:"w-4 h-4"}),e.jsx("span",{children:"Log Out"})]})]})]})})]})]})}),e.jsx("div",{className:"pt-8 mx-8",children:t&&e.jsxs("header",{className:"bg-green-700 rounded shadow flex justify-between items-center",children:[e.jsx("div",{className:"max-w-full py-4 px-4 sm:px-4 lg:px-4 text-white",children:t}),e.jsx("div",{className:"py-4 px-4 sm:px-6 lg:px-8",children:e.jsx("nav",{className:"text-sm",children:e.jsx("ol",{className:"list-reset flex",children:o&&o.map((c,p)=>e.jsxs("li",{children:[e.jsx(r,{href:c.path,className:"text-white hover:text-white",children:c.name}),p<o.length-1&&e.jsx("span",{className:"mx-2",children:"/"})]},p))})})})]})}),e.jsx("main",{className:"transition-all p-4",children:s})]}),e.jsx("div",{className:"fixed bottom-8 right-8 z-50 flex flex-col gap-2",children:y&&e.jsx("button",{className:"bg-green-700 text-white p-1 rounded shadow-lg hover:bg-green-600 transition-all duration-300 transform hover:scale-110",onClick:P,children:e.jsx(D,{className:"w-6 h-6"})})})]})}export{_ as A};
