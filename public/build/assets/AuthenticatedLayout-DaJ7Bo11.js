import{r as i,j as e,$ as a,K as g}from"./app-EIz8nQ5Q.js";import{m,a as x,h as L,n as C,o as f,f as T,p as H,q as $,r as N,s as F}from"./index-D-VSm5dn.js";import{a2 as O}from"./index-CuuF2Vom.js";import{z}from"./transition-DuUQTJM_.js";import{L as D}from"./LoadingPage-DIqH4F6W.js";import{A as I}from"./index-26-9MRme.js";const b=i.createContext(),c=({children:d})=>{const[l,s]=i.useState(!1),o=()=>{s(r=>!r)};return e.jsx(b.Provider,{value:{open:l,setOpen:s,toggleOpen:o},children:e.jsx("div",{className:"relative",children:d})})},B=({children:d})=>{const{open:l,setOpen:s,toggleOpen:o}=i.useContext(b);return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:o,children:d}),l&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>s(!1)})]})},M=({align:d="right",width:l="48",contentClasses:s="py-1 bg-white",children:o})=>{const{open:r,setOpen:n}=i.useContext(b);let t="origin-top";d==="left"?t="ltr:origin-top-left rtl:origin-top-right start-0":d==="right"&&(t="ltr:origin-top-right rtl:origin-top-left end-0");let u="";return l==="48"&&(u="w-48"),e.jsx(e.Fragment,{children:e.jsx(z,{show:r,enter:"transition ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsx("div",{className:`absolute z-50 mt-2 rounded-md shadow-lg ${t} ${u}`,onClick:()=>n(!1),children:e.jsx("div",{className:"rounded-md ring-1 ring-black ring-opacity-5 "+s,children:o})})})})},K=({className:d="",children:l,...s})=>e.jsx(a,{...s,className:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none "+d,children:l});c.Trigger=B;c.Content=M;c.Link=K;function R(d){const{url:l}=g(),[s,o]=i.useState([]);return i.useEffect(()=>{(async()=>{try{const n=await fetch("/position");if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const t=await n.json();t&&Array.isArray(t.data)?o(t.data):console.error("API response does not contain a valid 'data' array:",t)}catch(n){console.error("Error fetching positions:",n)}})()},[]),e.jsx("div",{children:e.jsxs("ul",{className:"space-y-3",children:[e.jsx("li",{children:e.jsxs(a,{href:route("admin.dashboard.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.dashboard.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(m,{className:"w-5 h-5 mr-3"}),"Beranda"]})}),s.length>0?s.map(r=>e.jsx("li",{children:e.jsxs(a,{href:"/admin/official/"+r.slug,className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(l.includes(`/admin/official/${r.slug}`)?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(x,{className:"w-5 h-5 mr-3"}),e.jsx("span",{className:"max-w-[150px]",children:r.name})]})},r.slug)):e.jsx("li",{children:e.jsx("span",{className:"flex items-center p-2 text-gray-500",children:"Memuat data pejabat..."})}),e.jsx("li",{children:e.jsxs(a,{href:route("admin.aparatus.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.aparatus.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(x,{className:"w-5 h-5 mr-3"}),"Perangkat"]})}),e.jsx("li",{children:e.jsxs(a,{href:route("admin.organization.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.organization.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(L,{className:"w-5 h-5 mr-3"}),"Organisasi"]})}),e.jsx("li",{children:e.jsxs(a,{href:route("admin.training.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.training.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(C,{className:"w-5 h-5 mr-3"}),"Pelatihan"]})}),e.jsx("li",{children:e.jsxs(a,{href:route("admin.user.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.user.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(f,{className:"w-5 h-5 mr-3"}),"Pengguna"]})})]})})}function U(d){g().props.auth.user;const{url:l}=g(),[s,o]=i.useState([]);return i.useEffect(()=>{(async()=>{try{const n=await fetch("/position");if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const t=await n.json();t&&Array.isArray(t.data)?o(t.data):console.error("API response does not contain a valid 'data' array:",t)}catch(n){console.error("Error fetching positions:",n)}})()},[]),e.jsx("div",{children:e.jsxs("ul",{className:"space-y-3",children:[e.jsx("li",{children:e.jsxs(a,{href:route("regency.dashboard.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("regency.dashboard.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(m,{className:"w-5 h-5 mr-3"}),"Beranda"]})}),s.length>0?s.map(r=>e.jsx("li",{children:e.jsxs(a,{href:"/regency/official/"+r.slug,className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(l.includes(`/admin/official/${r.slug}`)?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(x,{className:"w-5 h-5 mr-3"}),e.jsx("span",{className:"max-w-[150px]",children:r.name})]})},r.slug)):e.jsx("li",{children:e.jsx("span",{className:"flex items-center p-2 text-gray-500",children:"Memuat data pejabat..."})}),e.jsx("li",{children:e.jsxs(a,{href:route("regency.aparatus.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("regency.aparatus.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(x,{className:"w-5 h-5 mr-3"}),"Perangkat"]})}),e.jsx("li",{children:e.jsxs(a,{href:route("regency.user.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("regency.user.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(f,{className:"w-5 h-5 mr-3"}),"Pengguna"]})})]})})}function V(d){const{url:l}=g();return e.jsx("div",{children:e.jsxs("ul",{className:"space-y-3",children:[e.jsx("li",{children:e.jsxs(a,{href:route("admin.dashboard.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.dashboard.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(m,{className:"w-5 h-5 mr-3"}),"Beranda"]})}),e.jsx("li",{children:e.jsxs(a,{href:route("admin.official.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.official.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(x,{className:"w-5 h-5 mr-3"}),"Pejabat"]})}),e.jsx("li",{children:e.jsxs(a,{href:route("admin.aparatus.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.aparatus.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(x,{className:"w-5 h-5 mr-3"}),"Perangkat"]})}),e.jsx("li",{children:e.jsxs(a,{href:route("admin.user.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.user.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(f,{className:"w-5 h-5 mr-3"}),"Pengguna"]})})]})})}function q(d){const{url:l}=g(),[s,o]=i.useState([]);return i.useEffect(()=>{(async()=>{try{const n=await fetch("/position");if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const t=await n.json();t&&Array.isArray(t.data)?o(t.data):console.error("API response does not contain a valid 'data' array:",t)}catch(n){console.error("Error fetching positions:",n)}})()},[]),e.jsx("div",{children:e.jsxs("ul",{className:"space-y-3",children:[e.jsx("li",{children:e.jsxs(a,{href:route("village.dashboard.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.dashboard.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(m,{className:"w-5 h-5 mr-3"}),"Beranda"]})}),s.length>0?s.map(r=>e.jsx("li",{children:e.jsxs(a,{href:"/village/official/"+r.slug,className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(l.includes(`/admin/official/${r.slug}`)?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(x,{className:"w-5 h-5 mr-3"}),e.jsx("span",{className:"max-w-[150px]",children:r.name})]})},r.slug)):e.jsx("li",{children:e.jsx("span",{className:"flex items-center p-2 text-gray-500",children:"Memuat data pejabat..."})}),e.jsx("li",{children:e.jsxs(a,{href:route("village.profile.index"),className:"flex items-center p-2 rounded transition-colors duration-700 font-bold "+(route().current("admin.profile.*")?"bg-green-700 text-white border-l-4 border-green-900 hover:bg-white hover:text-green-900 hover:border-none":"text-green-900 hover:bg-green-700 hover:text-white"),children:[e.jsx(m,{className:"w-5 h-5 mr-3"}),"Desa"]})})]})})}function Z({header:d,children:l,breadcrumb:s}){const o=g().props.auth.user,[r,n]=i.useState(!0),[t,u]=i.useState(!1),[y,P]=i.useState(!1),[k,p]=i.useState(!1),j=0,[v,E]=i.useState(!0);i.useEffect(()=>{const h=setTimeout(()=>{E(!1)},j);return()=>clearTimeout(h)},[j]),i.useEffect(()=>{const h=()=>{P(window.scrollY>300)};return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[]);const S=()=>{window.scrollTo({top:0,behavior:"smooth"})},A=()=>{document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),p(!1)):(document.documentElement.requestFullscreen(),p(!0))};return v?e.jsxs(I,{children:[v&&e.jsx(D,{})," "]}):e.jsxs("div",{className:"min-h-screen bg-gray-100 flex",children:[e.jsxs("div",{className:`fixed inset-y-0 left-0 w-64 bg-white shadow-lg transform transition-transform duration-300 ${r||t?"translate-x-0":"-translate-x-full"}`,children:[e.jsx("div",{className:"flex h-16 border-b-2 items-center px-4 bg-green-700",children:e.jsx(a,{href:"/",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:"/assets/images/KalBar.svg",alt:"Logo SIKADES",className:"h-10 w-10 mr-2"}),e.jsx("h1",{className:"font-bold text-4xl text-white",children:"SIKADES"})]})})}),e.jsxs("div",{className:"space-y-1 mt-2 px-3 max-h-[90vh] overflow-y-auto pb-12 text-sm font-light",children:[o.role==="admin"&&e.jsx(R,{}),o.role==="regency"&&e.jsx(U,{}),o.role==="district"&&e.jsx(V,{}),o.role==="village"&&e.jsx(q,{})]})]}),e.jsxs("div",{className:`flex-1 min-h-screen transition-all ${r||t?"ml-64":"ml-0"}`,children:[e.jsx("nav",{className:"bg-white w-full shadow-sm",children:e.jsxs("div",{className:"mx-auto max-w-full px-4 sm:px-6 lg:px-8 flex h-16 justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:()=>n(!r),className:"bg-green-700 p-1 text-white rounded transition-colors duration-300",children:r||t?e.jsx(T,{className:"w-6 h-6"}):e.jsx(H,{className:"w-6 h-6"})})}),e.jsxs("div",{className:"hidden sm:flex sm:items-center gap-4",children:[e.jsx("button",{onClick:A,className:"text-gray-500 hover:text-green-700 transition-colors duration-300",title:k?"Keluar dari Layar Penuh":"Masuk ke Layar Penuh",children:e.jsx($,{className:"w-6 h-6"})}),e.jsx("div",{className:"relative",children:e.jsxs(c,{children:[e.jsx(c.Trigger,{children:e.jsx("span",{className:"inline-flex rounded-md shadow border",children:e.jsxs("button",{type:"button",className:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium leading-4 text-gray-500 transition duration-150 ease-in-out hover:text-green-700 focus:outline-none",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[o.avatar?e.jsx("img",{src:o.avatar,alt:o.name,className:"w-8 h-8 rounded-full"}):e.jsx("div",{className:"w-8 h-8 rounded bg-green-700 flex items-center justify-center",children:e.jsx(N,{className:"w-5 h-5 text-white"})}),e.jsx("span",{children:o.name})]}),e.jsx("svg",{className:"-me-0.5 ms-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})}),e.jsxs(c.Content,{children:[e.jsxs(c.Link,{href:route("profile.edit"),className:"flex items-center space-x-2",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsx("span",{children:"Profile"})]}),e.jsxs(c.Link,{href:route("logout"),method:"post",as:"button",className:"flex items-center space-x-2",children:[e.jsx(F,{className:"w-4 h-4"}),e.jsx("span",{children:"Log Out"})]})]})]})})]})]})}),e.jsx("div",{className:"pt-8 mx-8",children:d&&e.jsxs("header",{className:"bg-green-700 rounded shadow flex justify-between items-center",children:[e.jsx("div",{className:"max-w-full py-4 px-4 sm:px-4 lg:px-4 text-white",children:d}),e.jsx("div",{className:"py-4 px-4 sm:px-6 lg:px-8",children:e.jsx("nav",{className:"text-sm",children:e.jsx("ol",{className:"list-reset flex",children:s&&s.map((h,w)=>e.jsxs("li",{children:[e.jsx(a,{href:h.path,className:"text-white hover:text-white",children:h.name}),w<s.length-1&&e.jsx("span",{className:"mx-2",children:"/"})]},w))})})})]})}),e.jsx("main",{className:"transition-all p-4",children:l})]}),e.jsx("div",{className:"fixed bottom-8 right-8 z-50 flex flex-col gap-2",children:y&&e.jsx("button",{className:"bg-green-700 text-white p-1 rounded shadow-lg hover:bg-green-600 transition-all duration-300 transform hover:scale-110",onClick:S,children:e.jsx(O,{className:"w-6 h-6"})})})]})}export{Z as A};
