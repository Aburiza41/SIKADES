import{r as i,j as e,L as ca,S as ma}from"./app-cnLqKnWv.js";import{A as xa}from"./AuthenticatedLayout-DtE7q2g1.js";import{P as y,B as Ae,D as Ke}from"./index-BiDa0l7-.js";import{C as ha,b as ua,L as ga,B as pa,c as ba,P as ja,A as ya,d as va,p as Na,a as wa}from"./chart-DjzORYcU.js";import{X as ka}from"./index.es-Q68aKp3t.js";import{F as Be,a as W,b as fa,c as Fa,d as Ca,e as Da,f as Ee,g as Sa,h as _a,i as Pa}from"./index-CoBPEikz.js";import{l as Aa,m as Ka,a as Ba,f as He,n as G}from"./index-sj701c6h.js";import{M as p}from"./index-DC9iVcT_.js";import Ea from"./List-Dnf6XlZB.js";import Ha from"./PDF-DtO5J3Ii.js";import Ja from"./Modal-MQ5C3a7X.js";import{m as t}from"./proxy-0toHJmZX.js";import{A as La}from"./index-CSb7vC3W.js";import"./index-CyDsHmf4.js";import"./iconBase-CMF4PMHw.js";import"./transition-LX_87-cn.js";import"./LoadingPage-CsjTuYab.js";import"./sweetalert2.esm.all-LHqzTR4y.js";import"./Actions-Dxaay-4G.js";import"./jspdf.plugin.autotable-Cut1Q0GP.js";import"./typeof-QjJsDpFa.js";ha.register(ua,ga,pa,ba,ja,ya,va,Na,wa);function rs({regencies:x,districts:d,villages:c,official_count:h,status_pejabat:j,trainings:k,jenis_kelamin:Je,pendidikan:f,posisi:F,organizations:C,agama:Le,golongan_darah:Te,jabatan:N,status_perkawinan:ze,total_posisi:Ie,total_terisi:Me,kelengkapan_data:$e,initialOfficials:We,officials:za}){var ee,ae,se,te,ne,le,ie,re,oe,de,ce,me,xe,he,ue,ge,pe,be,je,ye,ve,Ne,we,ke,fe,Fe,Ce,De,Se,_e,Pe;const[Ge,Re]=i.useState(We),[D,R]=i.useState(!1),[Ve,Ye]=i.useState(""),[Ue,Xe]=i.useState([]),[S,V]=i.useState(!1),[_,Y]=i.useState(!1),[a,U]=i.useState(null),[n,P]=i.useState({search:"",education:"",position:"",kabupaten:"",kecamatan:"",desa:"",jenis_kelamin:"",agama:"",golongan_darah:"",pelatihan:"",organisasi:"",status:""}),[qe,Qe]=i.useState([]),[Ze,X]=i.useState([]),[Oe,q]=i.useState([]),[ea,aa]=i.useState(""),[sa,ta]=i.useState("");i.useEffect(()=>(S||_||D?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[S,_,D]),i.useEffect(()=>{fetch("/local/regencies",{headers:{Accept:"application/json"}}).then(s=>s.json()).then(s=>{s.success&&Qe(s.data)}).catch(s=>{console.error("Error fetching kabupaten:",s)})},[]),i.useEffect(()=>{n.kabupaten?fetch(`/local/districts/${n.kabupaten}`,{headers:{Accept:"application/json"}}).then(s=>s.json()).then(s=>{s.success&&X(s.data)}).catch(s=>{console.error("Error fetching kecamatan:",s)}):(X([]),P(s=>({...s,kecamatan:"",desa:""})))},[n.kabupaten]),i.useEffect(()=>{n.kecamatan?fetch(`/local/villages/${n.kecamatan}`,{headers:{Accept:"application/json"}}).then(s=>s.json()).then(s=>{s.success&&q(s.data)}).catch(s=>{console.error("Error fetching desa:",s)}):(q([]),P(s=>({...s,desa:""})))},[n.kecamatan]);const A={labels:Object.keys(f),datasets:[{label:"Jumlah",data:Object.values(f),borderColor:"#4CAF50",pointBackgroundColor:"#4CAF50",tension:.1,backgroundColor:"rgba(76, 175, 80, 0.2)"}]},K={labels:["Daftar","Diproses","Tervalidasi","Ditolak"],datasets:[{label:"Status",data:j,backgroundColor:["#4CAF50","#FFC107","#2196F3","#F44336"],borderColor:"#FFFFFF",borderWidth:2}]},B={labels:["Laki-Laki","Perempuan"],datasets:[{label:"Jenis Kelamin",data:Je,backgroundColor:["#2196F3","#E91E63"],borderColor:"#FFFFFF",borderWidth:2}]},E=(s,r)=>Array(s).fill().map((b,m)=>r[m%r.length]),H={labels:Object.keys(k),datasets:[{label:"Jumlah",data:Object.values(k),backgroundColor:E(Object.keys(k).length,["#4CAF50","#FFC107","#2196F3","#F44336","#9C27B0","#00BCD4","#FF9800","#8BC34A","#E91E63","#607D8B"]),borderColor:"#FFFFFF",borderWidth:2}]},J={labels:Object.keys(C),datasets:[{label:"Jumlah",data:Object.values(C),backgroundColor:E(Object.keys(C).length,["#4CAF50","#2196F3","#9C27B0","#FF9800","#607D8B","#F44336","#00BCD4","#8BC34A","#E91E63","#795548"]),borderColor:"#FFFFFF",borderWidth:2}]},L={labels:["Islam","Kristen","Katolik","Hindu","Buddha","Konghucu","Kosong"],datasets:[{label:"Jumlah",data:Le,backgroundColor:["#4CAF50","#2196F3","#9C27B0","#FF9800","#607D8B","#F44336","#795548"],borderColor:"#FFFFFF",borderWidth:2}]},T={labels:["A","B","AB","O","Kosong"],datasets:[{label:"Jumlah",data:Te,backgroundColor:["#F44336","#2196F3","#4CAF50","#FFC107","#795548"],borderColor:"#FFFFFF",borderWidth:2}]},z={labels:Object.keys(N),datasets:[{label:"Jumlah",data:Object.values(N),backgroundColor:E(Object.keys(N).length,["#4CAF50","#2196F3","#9C27B0","#FF9800","#607D8B","#F44336","#00BCD4","#8BC34A","#E91E63","#795548"]),borderColor:"#FFFFFF",borderWidth:2}]},I={labels:["Belum Kawin","Kawin","Duda","Janda","Kosong"],datasets:[{label:"Jumlah",data:ze,backgroundColor:["#2196F3","#4CAF50","#FF9800","#E91E63","#795548"],borderColor:"#FFFFFF",borderWidth:2}]},u=(s,r,b)=>{Ye(s);const m=r.map(($,w)=>({id:w+1,kategori:$,jumlah:b[w]}));Xe(m),R(!0)},na=[{name:"ID",selector:s=>s.id,sortable:!0,width:"80px"},{name:"Kategori",selector:s=>s.kategori,sortable:!0},{name:"Jumlah",selector:s=>s.jumlah,sortable:!0}],g={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#333333"}},title:{display:!0,color:"#333333",font:{size:18}}}},M=({page:s=1,perPage:r=10,search:b=n.search,filters:m=JSON.stringify(n),sortField:$=ea,sortDirection:w=sa})=>{ma.get("/admin/dashboard",{page:s,per_page:r,search:b,filters:m,sort_field:$,sort_direction:w},{preserveState:!0,replace:!0,onSuccess:da=>{Re(da.props.officials)},onError:()=>{Swal.fire("Error","Failed to fetch data. Please try again.","error")}})},la=s=>{U(s),Y(!0),V(!0)},ia=s=>{const r={nama_lengkap:s.nama_lengkap,nik:s.nik,niad:s.niad,tempat_lahir:s.tempat_lahir,tanggal_lahir:s.tanggal_lahir,jenis_kelamin:s.jenis_kelamin,status_perkawinan:s.status_perkawinan,agama:s.agama,alamat:s.alamat,handphone:s.handphone,gol_darah:s.gol_darah,pendidikan:s.pendidikan,bpjs_kesehatan:s.bpjs_kesehatan,bpjs_ketenagakerjaan:s.bpjs_ketenagakerjaan,npwp:s.npwp,status:s.status};Ha(r)},Q=()=>{V(!1),Y(!1),U(null)},o=s=>{const{name:r,value:b}=s.target;let m;r==="kabupaten"?m={...n,kabupaten:b,kecamatan:"",desa:""}:r==="kecamatan"?m={...n,kecamatan:b,desa:""}:m={...n,[r]:b},P(m),M({filters:JSON.stringify(m)})},ra=(s,r)=>{aa(s.selector),ta(r),M({sortField:s.selector,sortDirection:r})},oa=(x==null?void 0:x.length)??0,Z=(d==null?void 0:d.length)??0,O=(c==null?void 0:c.length)??0;return e.jsxs(xa,{header:e.jsxs("div",{className:"text-2xl font-semibold leading-tight text-white",children:["Dashboard",e.jsx("p",{className:"text-xs font-normal mt-1 text-white",children:"Selamat datang di dashboard admin, Anda dapat mengelola"})]}),breadcrumb:[{name:"Dashboard",path:"/admin/dashboard"}],children:[e.jsx(ca,{title:"Dashboard"}),e.jsxs("div",{className:"py-6 max-w-full px-4 mx-auto",children:[e.jsxs(t.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},children:[e.jsxs(t.div,{className:"bg-gradient-to-r from-green-400 to-green-600 rounded-lg shadow-lg p-6 flex items-center space-x-4 justify-between text-white",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[e.jsx(Aa,{size:40,className:"text-white"}),e.jsxs("div",{className:"text-right",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Kabupaten"}),e.jsx("p",{className:"text-2xl font-semibold",children:oa})]})]}),e.jsxs(t.div,{className:"bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-lg shadow-lg p-6 flex items-center space-x-4 justify-between text-white",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},role:"region","aria-label":`Kecamatan count: ${Z}`,children:[e.jsx(Ka,{size:40}),e.jsxs("div",{className:"text-right",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Kecamatan"}),e.jsx("p",{className:"text-2xl font-semibold",children:Z})]})]}),e.jsxs(t.div,{className:"bg-gradient-to-r from-blue-400 to-blue-600 rounded-lg shadow-lg p-6 flex items-center space-x-4 justify-between text-white",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},role:"region","aria-label":`Desa count: ${O}`,children:[e.jsx(Ba,{size:40}),e.jsxs("div",{className:"text-right",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Desa"}),e.jsx("p",{className:"text-2xl font-semibold",children:O})]})]})]}),e.jsxs(t.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-6 my-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},children:[e.jsxs(t.div,{className:"bg-gradient-to-r from-purple-400 to-purple-600 rounded-lg shadow-lg p-6 flex items-center space-x-4 justify-between text-white",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[e.jsx(He,{size:40,className:"text-white"}),e.jsxs("div",{className:"text-right",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aparatur"}),e.jsx("p",{className:"text-3xl font-semibold",children:h.toLocaleString("id-ID")})]})]}),e.jsxs(t.div,{className:"bg-gradient-to-r from-gray-500 to-gray-700 rounded-lg shadow-lg p-6 flex items-center space-x-4 justify-between text-white",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[e.jsx(G,{size:40,className:"text-white"}),e.jsxs("div",{className:"text-right",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Jabatan"}),e.jsx("p",{className:"text-3xl font-semibold",children:F.toLocaleString("id-ID")})]})]}),e.jsxs(t.div,{className:"bg-gradient-to-r from-gray-500 to-gray-700 rounded-lg shadow-lg p-6 flex items-center space-x-4 justify-between text-white",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[e.jsx(G,{size:40,className:"text-white"}),e.jsxs("div",{className:"text-right",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Minimal"}),e.jsxs("p",{className:"text-xs font-semibold",children:[h.toLocaleString("id-ID")," AD - ",F," APD"]}),e.jsx("p",{className:"text-3xl font-semibold",children:(h-F).toLocaleString("id-ID")})]})]}),e.jsxs(t.div,{className:"bg-gradient-to-r from-gray-500 to-gray-700 rounded-lg shadow-lg p-6 flex items-center space-x-4 justify-between text-white",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[e.jsx(G,{size:40,className:"text-white"}),e.jsxs("div",{className:"text-right",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Perbandingan"}),e.jsxs("p",{className:"text-3xl font-semibold",children:[Me.toLocaleString("id-ID")," / ",Ie.toLocaleString("id-ID")]})]})]}),e.jsxs(t.div,{className:"col-span-2 bg-gradient-to-r from-purple-400 to-purple-600 rounded-lg shadow-lg p-6 flex items-center space-x-4 justify-between text-white",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:[e.jsx(He,{size:40,className:"text-white"}),e.jsxs("div",{className:"text-right",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Persentase"}),e.jsxs("p",{className:"text-3xl font-semibold",children:[$e.toLocaleString("id-ID")," %"]})]})]})]}),e.jsxs(t.div,{className:"bg-white p-6 rounded-lg shadow-md my-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Filter Data"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pencarian"}),e.jsx("input",{type:"text",name:"search",value:n.search,onChange:o,placeholder:"Cari nama atau NIK...",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pendidikan Terakhir"}),e.jsxs("select",{name:"education",value:n.education,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",children:[e.jsx("option",{value:"",children:"Semua"}),Object.keys(f).map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Jabatan"}),e.jsxs("select",{name:"position",value:n.position,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",children:[e.jsx("option",{value:"",children:"Semua"}),Object.keys(N).map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Kabupaten"}),e.jsxs("select",{name:"kabupaten",value:n.kabupaten,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",children:[e.jsx("option",{value:"",children:"Semua Kabupaten"}),qe.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Kecamatan"}),e.jsxs("select",{name:"kecamatan",value:n.kecamatan,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",disabled:!n.kabupaten,children:[e.jsx("option",{value:"",children:"Semua Kecamatan"}),Ze.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Desa"}),e.jsxs("select",{name:"desa",value:n.desa,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",disabled:!n.kecamatan,children:[e.jsx("option",{value:"",children:"Semua Desa"}),Oe.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Jenis Kelamin"}),e.jsxs("select",{name:"jenis_kelamin",value:n.jenis_kelamin,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",children:[e.jsx("option",{value:"",children:"Semua"}),e.jsx("option",{value:"Laki-laki",children:"Laki-laki"}),e.jsx("option",{value:"Perempuan",children:"Perempuan"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Agama"}),e.jsxs("select",{name:"agama",value:n.agama,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",children:[e.jsx("option",{value:"",children:"Semua"}),["Islam","Kristen Protestan","Kristen Katolik","Hindu","Buddha","Konghucu","Lainnya"].map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Golongan Darah"}),e.jsxs("select",{name:"golongan_darah",value:n.golongan_darah,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",children:[e.jsx("option",{value:"",children:"Semua"}),["A","B","AB","O"].map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Pelatihan"}),e.jsxs("select",{name:"pelatihan",value:n.pelatihan,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",children:[e.jsx("option",{value:"",children:"Semua"}),["Ya","Tidak"].map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Organisasi"}),e.jsxs("select",{name:"organisasi",value:n.organisasi,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",children:[e.jsx("option",{value:"",children:"Semua"}),["Ya","Tidak"].map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),e.jsxs("select",{name:"status",value:n.status,onChange:o,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50",children:[e.jsx("option",{value:"",children:"Semua Status"}),["daftar","validasi","tolak","proses"].map(s=>e.jsx("option",{value:s,children:s==="daftar"?"Daftar":s==="validasi"?"Terima":s==="tolak"?"Tolak":s==="proses"?"Proses":s},s))]})]})]})]}),e.jsx(t.div,{className:"mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:e.jsx(Ea,{officials:Ge,fetchData:M,onView:la,onPrint:ia,onSort:ra})}),e.jsxs(t.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},children:[e.jsxs(t.div,{className:"bg-white p-6 rounded-lg shadow-md col-span-2",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Status Pejabat"}),e.jsx("button",{onClick:()=>u("Status Pejabat",K.labels,K.datasets[0].data),children:e.jsx(p,{className:"text-green-600",size:24})})]}),e.jsx("div",{className:"relative",style:{height:"300px"},children:e.jsx(y,{data:K,options:g})})]}),e.jsxs(t.div,{className:"bg-white p-6 rounded-lg shadow-md",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Jenis Kelamin"}),e.jsx("button",{onClick:()=>u("Jenis Kelamin",B.labels,B.datasets[0].data),children:e.jsx(p,{className:"text-green-600",size:24})})]}),e.jsx("div",{className:"relative",style:{height:"300px"},children:e.jsx(y,{data:B,options:g})})]}),e.jsxs(t.div,{className:"bg-white p-6 rounded-lg shadow-md",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Status Perkawinan"}),e.jsx("button",{onClick:()=>u("Status Perkawinan",I.labels,I.datasets[0].data),children:e.jsx(p,{className:"text-green-600",size:24})})]}),e.jsx("div",{className:"relative",style:{height:"300px"},children:e.jsx(y,{data:I,options:g})})]}),e.jsxs(t.div,{className:"bg-white p-6 rounded-lg shadow-md col-span-2",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Pendidikan Terakhir"}),e.jsx("button",{onClick:()=>u("Pendidikan Terakhir",A.labels,A.datasets[0].data),children:e.jsx(p,{className:"text-green-600",size:24})})]}),e.jsx("div",{className:"relative",style:{height:"300px"},children:e.jsx(Ae,{data:A,options:{...g,indexAxis:"y"}})})]}),e.jsxs(t.div,{className:"bg-white p-6 rounded-lg shadow-md",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Pelatihan"}),e.jsx("button",{onClick:()=>u("Pelatihan",H.labels,H.datasets[0].data),children:e.jsx(p,{className:"text-green-600",size:24})})]}),e.jsx("div",{className:"relative",style:{height:"300px"},children:e.jsx(Ke,{data:H,options:g})})]}),e.jsxs(t.div,{className:"bg-white p-6 rounded-lg shadow-md",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Organisasi"}),e.jsx("button",{onClick:()=>u("Organisasi",J.labels,J.datasets[0].data),children:e.jsx(p,{className:"text-green-600",size:24})})]}),e.jsx("div",{className:"relative",style:{height:"300px"},children:e.jsx(Ke,{data:J,options:g})})]}),e.jsxs(t.div,{className:"bg-white p-6 rounded-lg shadow-md",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Agama"}),e.jsx("button",{onClick:()=>u("Agama",L.labels,L.datasets[0].data),children:e.jsx(p,{className:"text-green-600",size:24})})]}),e.jsx("div",{className:"relative",style:{height:"300px"},children:e.jsx(y,{data:L,options:g})})]}),e.jsxs(t.div,{className:"bg-white p-6 rounded-lg shadow-md",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Golongan Darah"}),e.jsx("button",{onClick:()=>u("Golongan Darah",T.labels,T.datasets[0].data),children:e.jsx(p,{className:"text-green-600",size:24})})]}),e.jsx("div",{className:"relative",style:{height:"300px"},children:e.jsx(y,{data:T,options:g})})]}),e.jsxs(t.div,{className:"bg-white p-6 rounded-lg shadow-md col-span-2",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Jabatan"}),e.jsx("button",{onClick:()=>u("Jabatan",z.labels,z.datasets[0].data),children:e.jsx(p,{className:"text-green-600",size:24})})]}),e.jsx("div",{className:"relative",style:{height:"300px"},children:e.jsx(Ae,{data:z,options:{...g,indexAxis:"y"}})})]})]}),D&&e.jsx(t.div,{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsxs(t.div,{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-3xl max-h-[80vh] overflow-y-auto",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:-50,opacity:0},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:Ve}),e.jsx("button",{className:"p-1 bg-red-600 text-white rounded-lg font-bold",onClick:()=>R(!1),children:e.jsx(Be,{})})]}),e.jsx(ka,{columns:na,data:Ue,pagination:!0,highlightOnHover:!0})]})}),e.jsx(Ja,{isOpen:S&&_,onClose:Q,title:"Detail Pejabat Desa",children:e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"space-y-4 overflow-y-auto max-h-[90vh]",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-xl",children:[(ee=a==null?void 0:a.identities)!=null&&ee.foto?e.jsxs(t.div,{whileHover:{scale:1.03},className:"relative group cursor-pointer",children:[e.jsx("img",{src:`/private-images/${(ae=a==null?void 0:a.identities)==null?void 0:ae.foto}`,alt:`Foto ${a.nama_lengkap}`,className:"w-32 h-32 rounded-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(FiImage,{className:"text-white text-2xl"})})]}):e.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 rounded-full bg-gray-200 flex items-center justify-center text-gray-400",children:e.jsx(W,{className:"text-5xl"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs(t.h2,{className:"text-2xl font-bold text-gray-800 mb-1",initial:{x:-10,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1},children:[(a==null?void 0:a.gelar_depan)&&`${a.gelar_depan} `,a==null?void 0:a.nama_lengkap,(a==null?void 0:a.gelar_belakang)&&`, ${a.gelar_belakang}`]}),e.jsx(t.p,{className:"text-lg text-blue-600 font-medium mb-3",initial:{x:-10,opacity:0},animate:{x:0,opacity:1},transition:{delay:.15},children:(te=(se=a==null?void 0:a.position_current)==null?void 0:se.position)==null?void 0:te.name}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(t.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm flex items-center gap-1",children:[e.jsx(W,{size:14})," ",(a==null?void 0:a.jenis_kelamin)==="L"?"Laki-laki":"Perempuan"]}),e.jsxs(t.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.25},className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm flex items-center gap-1",children:[e.jsx(fa,{size:14})," ",a==null?void 0:a.tanggal_lahir," (",Ta(a==null?void 0:a.tanggal_lahir)," tahun)"]}),e.jsxs(t.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3},className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm flex items-center gap-1",children:[e.jsx(Fa,{size:14})," Gol. Darah:"," ",((ne=a==null?void 0:a.identities)==null?void 0:ne.gol_darah)||"-"]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(v,{title:"Informasi Pribadi",icon:e.jsx(W,{className:"text-blue-500"}),children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:[e.jsx(l,{label:"NIK",value:a==null?void 0:a.nik}),e.jsx(l,{label:"NIPD",value:a==null?void 0:a.nipd}),e.jsx(l,{label:"Tempat Lahir",value:a==null?void 0:a.tempat_lahir}),e.jsx(l,{label:"Tanggal Lahir",value:a==null?void 0:a.tanggal_lahir}),e.jsx(l,{label:"Agama",value:a==null?void 0:a.agama}),e.jsx(l,{label:"Status Perkawinan",value:a==null?void 0:a.status_perkawinan}),e.jsx(l,{label:"Pendidikan Terakhir",value:(le=a==null?void 0:a.identities)==null?void 0:le.pendidikan_terakhir})]})}),e.jsx(v,{title:"Alamat",icon:e.jsx(Ca,{className:"text-green-500"}),children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4",children:[e.jsx(l,{label:"Alamat",value:(ie=a==null?void 0:a.addresses)==null?void 0:ie.alamat,fullWidth:!0}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(l,{label:"RT",value:(re=a==null?void 0:a.addresses)==null?void 0:re.rt}),e.jsx(l,{label:"RW",value:(oe=a==null?void 0:a.addresses)==null?void 0:oe.rw})]}),e.jsx(l,{label:"Desa/Kelurahan",value:`${(de=a==null?void 0:a.addresses)==null?void 0:de.village_name} (${(ce=a==null?void 0:a.village)==null?void 0:ce.name_dagri})`}),e.jsx(l,{label:"Kecamatan",value:`${(me=a==null?void 0:a.addresses)==null?void 0:me.district_name} (${(he=(xe=a==null?void 0:a.village)==null?void 0:xe.district)==null?void 0:he.name_dagri})`}),e.jsx(l,{label:"Kabupaten/Kota",value:`${(ue=a==null?void 0:a.addresses)==null?void 0:ue.regency_name} (${(be=(pe=(ge=a==null?void 0:a.village)==null?void 0:ge.district)==null?void 0:pe.regency)==null?void 0:be.name_dagri})`}),e.jsx(l,{label:"Provinsi",value:(je=a==null?void 0:a.addresses)==null?void 0:je.province_name})]})}),e.jsx(v,{title:"Kontak",icon:e.jsx(Da,{className:"text-purple-500"}),children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4",children:[e.jsx(l,{label:"Nomor Handphone",value:(ye=a==null?void 0:a.contacts)==null?void 0:ye.handphone}),e.jsx(l,{label:"Email",value:((ve=a==null?void 0:a.contacts)==null?void 0:ve.email)||"-"})]})}),e.jsx(v,{title:"Dokumen Identitas",icon:e.jsx(Ee,{className:"text-yellow-500"}),children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:[e.jsx(l,{label:"BPJS Kesehatan",value:((Ne=a==null?void 0:a.identities)==null?void 0:Ne.bpjs_kesehatan)||"-"}),e.jsx(l,{label:"BPJS Ketenagakerjaan",value:((we=a==null?void 0:a.identities)==null?void 0:we.bpjs_ketenagakerjaan)||"-"}),e.jsx(l,{label:"NPWP",value:((ke=a==null?void 0:a.identities)==null?void 0:ke.npwp)||"-"})]})}),e.jsx(v,{title:"Posisi & Jabatan",icon:e.jsx(Sa,{className:"text-red-500"}),children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:[e.jsx(l,{label:"Jabatan",value:(Fe=(fe=a==null?void 0:a.position_current)==null?void 0:fe.position)==null?void 0:Fe.name}),e.jsx(l,{label:"Penetap",value:(Ce=a==null?void 0:a.position_current)==null?void 0:Ce.penetap}),e.jsx(l,{label:"Nomor SK",value:(De=a==null?void 0:a.position_current)==null?void 0:De.nomor_sk}),e.jsx(l,{label:"Tanggal SK",value:(Se=a==null?void 0:a.position_current)==null?void 0:Se.tanggal_sk}),e.jsx(l,{label:"TMT Jabatan",value:(_e=a==null?void 0:a.position_current)==null?void 0:_e.tmt_jabatan}),((Pe=a==null?void 0:a.position_current)==null?void 0:Pe.file_sk)&&e.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"File SK"}),e.jsxs("a",{href:a.position_current.file_sk,target:"_blank",rel:"noopener noreferrer",className:"mt-1 inline-flex items-center text-blue-600 hover:underline",children:[e.jsx(Ee,{className:"mr-1"})," Lihat Dokumen SK"]})]})]})})]}),e.jsx("div",{className:"flex justify-end pt-4 p-4",children:e.jsxs(t.button,{whileHover:{scale:1.05,boxShadow:"0px 2px 8px rgba(0,0,0,0.1)"},whileTap:{scale:.98},onClick:Q,className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 flex items-center gap-2 shadow-md",children:[e.jsx(Be,{size:18})," Tutup"]})})]})})]})]})}const v=({title:x,icon:d,children:c})=>{const[h,j]=i.useState(!0);return e.jsxs(t.div,{className:"bg-white rounded-xl overflow-hidden border border-gray-100 shadow",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsxs("button",{onClick:()=>j(!h),className:"w-full flex justify-between items-center p-4 hover:bg-gray-100 bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-lg",children:d}),e.jsx("h3",{className:"text-lg font-medium text-gray-800",children:x})]}),h?e.jsx(_a,{}):e.jsx(Pa,{})]}),e.jsx(La,{children:h&&e.jsx(t.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:c})})]})},l=({label:x,value:d,fullWidth:c=!1})=>e.jsxs("div",{className:c?"md:col-span-2 lg:col-span-3":"",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500",children:x}),e.jsx("p",{className:"mt-1 text-gray-900 font-medium",children:d||"-"})]}),Ta=x=>{if(!x)return"-";const d=new Date,c=new Date(x);let h=d.getFullYear()-c.getFullYear();const j=d.getMonth()-c.getMonth();return(j<0||j===0&&d.getDate()<c.getDate())&&h--,h};export{rs as default};
